import React from 'react';
import { useId } from '@atlaskit/ds-lib/use-id';
import { MenuListItem } from '../menu-item/menu-list-item';
import { MenuSectionContext } from './menu-section-context';
/**
 * __MenuSection__
 *
 * A composable component for grouping menu items, along with a heading (`MenuSectionHeading`) and a divider (`Divider`).
 *
 * Usage example:
 * ```tsx
 * <MenuSection>
 *   <MenuSectionHeading>Section heading</MenuSectionHeading>
 *   <MenuList>
 *     <MenuItem>Item 1</MenuItem>
 *     <MenuItem>Item 2</MenuItem>
 *   </MenuList>
 *   <Divider />
 * </MenuSection>
 * ```
 */
export const MenuSection = ({
  children,
  testId,
  isMenuListItem = false
}) => {
  const id = useId();
  const content = /*#__PURE__*/React.createElement(MenuSectionContext.Provider, {
    value: id
  }, /*#__PURE__*/React.createElement("div", {
    role: "group",
    "aria-labelledby": `${id}-heading`
  }, children));
  if (isMenuListItem) {
    return /*#__PURE__*/React.createElement(MenuListItem, {
      testId: testId
    }, content);
  }

  // Legacy. isMenuListItem should become default.
  return content;
};