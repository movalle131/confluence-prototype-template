{
  "version": 3,
  "sources": ["../../@atlaskit/navigation-system/dist/esm/ui/page-layout/panel-splitter/provider.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/panel-splitter/context.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/panel-splitter/panel-splitter.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/combine.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/adapter/element-adapter.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/get-element-from-point-without-honey-pot.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/honey-pot-data-attribute.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/is-honey-pot-element.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/make-honey-pot-fix.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/max-z-index.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/lifecycle-manager.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/once.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/is-firefox.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/is-safari.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/count-events-for-safari.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/is-from-another-window.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/is-leaving-window.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/detect-broken-drag.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/get-input.js", "../../raf-schd/dist/raf-schd.esm.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/dispatch-consumer-event.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/usage-ledger.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-drop-target.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/add-attribute.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-monitor.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-adapter.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/android.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/media-types/text-media-type.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/media-types/url-media-type.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/adapter/element-adapter-native-data-key.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/element/block-dragging-to-iframes.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/element/disable-native-drag-preview.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/prevent-unhandled.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/panel-splitter/convert-resize-bound-to-pixels.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/panel-splitter/get-percentage-within-pixel-bounds.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/panel-splitter/get-width.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/panel-splitter/keyboard-resize-manager.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/use-expand-side-nav.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/use-toggle-side-nav.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/side-nav.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/use-resizing-width-css-var-on-root-element.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/flyout-close-delay-ms.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/use-side-nav-visibility.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/use-side-nav-visibility-callbacks.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/side-nav-header.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/side-nav-content.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/side-nav-footer.js", "../../@atlaskit/navigation-system/dist/esm/ui/page-layout/side-nav/toggle-button.js"],
  "sourcesContent": ["import React, { Fragment, useMemo, useRef } from 'react';\nimport { PanelSplitterContext } from './context';\n/**\n * Provides the context required for the panel splitter to work within a page layout slot.\n *\n * Should be used in the layout area components, e.g. SideNav, Aside etc, as opposed to products.\n */\nexport var PanelSplitterProvider = function PanelSplitterProvider(_ref) {\n  var panelId = _ref.panelId,\n    panelWidth = _ref.panelWidth,\n    onCompleteResize = _ref.onCompleteResize,\n    getResizeBounds = _ref.getResizeBounds,\n    resizingCssVar = _ref.resizingCssVar,\n    panelRef = _ref.panelRef,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? 'end' : _ref$position,\n    _ref$isEnabled = _ref.isEnabled,\n    isEnabled = _ref$isEnabled === void 0 ? true : _ref$isEnabled,\n    children = _ref.children;\n  var portalRef = useRef(null);\n  var context = useMemo(function () {\n    return {\n      panelId: panelId,\n      panelWidth: panelWidth,\n      onCompleteResize: onCompleteResize,\n      getResizeBounds: getResizeBounds,\n      resizingCssVar: resizingCssVar,\n      position: position,\n      panelRef: panelRef,\n      isEnabled: isEnabled,\n      portalRef: portalRef\n    };\n  }, [panelId, panelWidth, onCompleteResize, getResizeBounds, resizingCssVar, position, portalRef, panelRef, isEnabled]);\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(PanelSplitterContext.Provider, {\n    value: context\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    ref: portalRef\n  }));\n};", "import { createContext } from 'react';\n\n// Disabling the rule to allow for `Type` suffix, to differentiate from the Context object.\n// eslint-disable-next-line @repo/internal/react/consistent-types-definitions\n\n/**\n * Context for the panel splitter. Only internally exported.\n */\nexport var PanelSplitterContext = /*#__PURE__*/createContext(null);", "/* panel-splitter.tsx generated by @compiled/babel-plugin v0.36.1 */\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport \"./panel-splitter.compiled.css\";\nimport * as React from 'react';\nimport { ax, ix } from \"@compiled/react/runtime\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { bind } from 'bind-event-listener';\nimport { createPortal } from 'react-dom';\nimport invariant from 'tiny-invariant';\nimport { useId } from '@atlaskit/ds-lib/use-id';\nimport useStableRef from '@atlaskit/ds-lib/use-stable-ref';\nimport { useOpenLayerObserver } from '@atlaskit/layering/experimental/open-layer-observer';\nimport { combine } from '@atlaskit/pragmatic-drag-and-drop/combine';\nimport { draggable } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { blockDraggingToIFrames } from '@atlaskit/pragmatic-drag-and-drop/element/block-dragging-to-iframes';\nimport { disableNativeDragPreview } from '@atlaskit/pragmatic-drag-and-drop/element/disable-native-drag-preview';\nimport { preventUnhandled } from '@atlaskit/pragmatic-drag-and-drop/prevent-unhandled';\nimport VisuallyHidden from '@atlaskit/visually-hidden';\nimport { PanelSplitterContext } from './context';\nimport { convertResizeBoundToPixels } from './convert-resize-bound-to-pixels';\nimport { getPercentageWithinPixelBounds } from './get-percentage-within-pixel-bounds';\nimport { getPixelWidth, getWidthFromDragLocation } from './get-width';\nimport { createKeyboardResizeManager } from './keyboard-resize-manager';\nvar containerStyles = {\n  root: \"_12ji1r31 _1qu2glyw _12y31o36 _1e0cglyw _kqswstnw _u7coidpf _152tidpf _1pbykb7n _181n1ule\",\n  positionEnd: \"_rjxpftgi\",\n  positionStart: \"_1e02zeo2\"\n};\nvar grabAreaStyles = {\n  root: \"_1bsbl52n _4t3i1osq _kqswstnw _ca0qze3t _u5f3ze3t _n3tdze3t _19bvze3t _syaz1j28 _bfhk1j28 _k8m01ylx _1oec1yx9 _1lww5cps _d0aluf7j _1gavfnf5 _vp7gaqb7 _30l3aqb7 _1dr21ylx _1s5z1ylx _1cg4fnf5 _le1bfnf5 _1gglglyw _9h8h16c2\"\n};\nvar lineStyles = {\n  root: \"_kqswstnw _1e0c1ule _1bsbjfq9 _4t3i1osq _syaz1kw7 _bfhk1r31 _1e021v6z\"\n};\nvar panelSplitterDragDataSymbol = Symbol('panel-splitter-drag-data');\nfunction signPanelSplitterDragData(data) {\n  return _objectSpread(_objectSpread({}, data), {}, _defineProperty({}, panelSplitterDragDataSymbol, true));\n}\nexport function isPanelSplitterDragData(data) {\n  return data[panelSplitterDragDataSymbol] === true;\n}\nfunction getTextDirection(element) {\n  var _window$getComputedSt = window.getComputedStyle(element),\n    direction = _window$getComputedSt.direction;\n  return direction === 'rtl' ? 'rtl' : 'ltr';\n}\nvar PortaledPanelSplitter = function PortaledPanelSplitter(_ref) {\n  var label = _ref.label,\n    onResizeStart = _ref.onResizeStart,\n    onResizeEnd = _ref.onResizeEnd,\n    testId = _ref.testId,\n    panelId = _ref.panelId,\n    panelWidth = _ref.panelWidth,\n    onCompleteResize = _ref.onCompleteResize,\n    getResizeBounds = _ref.getResizeBounds,\n    panel = _ref.panel,\n    portal = _ref.portal,\n    resizingCssVar = _ref.resizingCssVar,\n    position = _ref.position;\n  var splitterRef = useRef(null);\n  var labelId = useId();\n  // Separate state used for the input range width to remove the UI's dependency on the \"persisted\" layout state value being updated\n  var _useState = useState(panelWidth),\n    _useState2 = _slicedToArray(_useState, 2),\n    rangeInputValue = _useState2[0],\n    setRangeInputValue = _useState2[1];\n\n  /**\n   * We are using state to store the resize bounds _converted into pixel units_, so that we can update them when the window is resized.\n   * Otherwise they can become out of sync with the actual viewport size, and cause a broken experience (inaccurate width percentage)\n   * when the user tries to resize using the keyboard.\n   */\n  var _useState3 = useState({\n      // Using placeholder values here for the initial render. These will be calculated and updated when the range input is focused.\n      min: 200,\n      max: 500\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    rangeInputBounds = _useState4[0],\n    setRangeInputBounds = _useState4[1];\n  var openLayerObserver = useOpenLayerObserver();\n  useEffect(function () {\n    var splitter = splitterRef.current;\n    invariant(splitter, 'Splitter ref must be set');\n    return combine(blockDraggingToIFrames({\n      element: splitter\n    }), draggable({\n      element: splitter,\n      onGenerateDragPreview: function onGenerateDragPreview(_ref2) {\n        var nativeSetDragImage = _ref2.nativeSetDragImage;\n        // We will be moving the line to indicate a drag. We can disable the native drag preview\n        disableNativeDragPreview({\n          nativeSetDragImage: nativeSetDragImage\n        });\n        // We don't want any native drop animation for when the user does not drop on a drop target. We want the drag to finish immediately\n        preventUnhandled.start();\n      },\n      getInitialData: function getInitialData() {\n        var initialWidth = getPixelWidth(panel);\n\n        /**\n         * The drag calculations require the actual computed width of the element\n         * For example, if the panel has loaded with a width of 2000px, but the max bound is 1000px and is visually 1000px (due to the CSS `clamp()`),\n         * the drag calculations should use the actual width of 1000px, not the width in state of 2000px.\n         */\n        return signPanelSplitterDragData({\n          panelId: panelId,\n          initialWidth: initialWidth,\n          resizingWidth: \"\".concat(initialWidth, \"px\"),\n          resizeBounds: getResizeBounds(),\n          // Only computing text direction when we need it, just as the drag is starting.\n          // Recomputing text direction on each new drag in case the text direction\n          // has changed. This is unlikely, but being safe.\n          direction: getTextDirection(panel)\n        });\n      },\n      onDragStart: function onDragStart(_ref3) {\n        var source = _ref3.source;\n        invariant(isPanelSplitterDragData(source.data));\n        onResizeStart === null || onResizeStart === void 0 || onResizeStart({\n          initialWidth: source.data.initialWidth\n        });\n\n        // Close any open layers when the user starts resizing\n        openLayerObserver === null || openLayerObserver === void 0 || openLayerObserver.closeLayers();\n      },\n      onDrag: function onDrag(_ref4) {\n        var location = _ref4.location,\n          source = _ref4.source;\n        invariant(isPanelSplitterDragData(source.data));\n        var _source$data = source.data,\n          initialWidth = _source$data.initialWidth,\n          resizeBounds = _source$data.resizeBounds,\n          direction = _source$data.direction;\n\n        /**\n         * How wide the element would be if there were no width constraints,\n         * based on the pointer's position.\n         */\n        var targetWidth = getWidthFromDragLocation({\n          initialWidth: initialWidth,\n          location: location,\n          direction: direction,\n          position: position\n        });\n        var resizingWidth = \"clamp(\".concat(resizeBounds.min, \", \").concat(targetWidth, \"px, \").concat(resizeBounds.max, \")\");\n        panel.style.setProperty(resizingCssVar, resizingWidth);\n        source.data.resizingWidth = resizingWidth;\n      },\n      onDrop: function onDrop(_ref5) {\n        var source = _ref5.source;\n        invariant(isPanelSplitterDragData(source.data));\n        preventUnhandled.stop();\n        invariant(isPanelSplitterDragData(source.data));\n        var finalWidth = getPixelWidth(panel);\n        onCompleteResize(finalWidth);\n        onResizeEnd === null || onResizeEnd === void 0 || onResizeEnd({\n          initialWidth: source.data.initialWidth,\n          finalWidth: finalWidth\n        });\n        panel.style.removeProperty(resizingCssVar);\n      }\n    }));\n  }, [onCompleteResize, onResizeStart, onResizeEnd, panel, resizingCssVar, panelWidth, position, openLayerObserver, panelId, getResizeBounds]);\n  var onResizeStartStableRef = useStableRef(onResizeStart);\n  var onResizeEndStableRef = useStableRef(onResizeEnd);\n  var _useState5 = useState(function () {\n      return createKeyboardResizeManager({\n        onResizeStart: function onResizeStart() {\n          var _onResizeStartStableR;\n          // Close any open layers when the user starts resizing with keyboard\n          openLayerObserver === null || openLayerObserver === void 0 || openLayerObserver.closeLayers();\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          (_onResizeStartStableR = onResizeStartStableRef.current) === null || _onResizeStartStableR === void 0 || _onResizeStartStableR.call.apply(_onResizeStartStableR, [onResizeStartStableRef].concat(args));\n        },\n        onResizeEnd: function onResizeEnd() {\n          var _onResizeEndStableRef;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_onResizeEndStableRef = onResizeEndStableRef.current) === null || _onResizeEndStableRef === void 0 ? void 0 : _onResizeEndStableRef.call.apply(_onResizeEndStableRef, [onResizeEndStableRef].concat(args));\n        }\n      });\n    }),\n    _useState6 = _slicedToArray(_useState5, 1),\n    keyboardResizeManager = _useState6[0];\n  var handleSliderInputChange = useCallback(function (event) {\n    var value = parseInt(event.target.value);\n    setRangeInputValue(value);\n\n    /**\n     * We are intentionally _not_ debouncing `onCompleteResize` as we want it to be called anytime the user changes the range input value.\n     * It is an internal-only callback - it's provided by `PanelSplitterProvider`, and used by layout slots to update their layout width state.\n     */\n    onCompleteResize(value);\n    keyboardResizeManager.onResize({\n      initialWidth: panelWidth,\n      finalWidth: value\n    });\n  }, [onCompleteResize, panelWidth, keyboardResizeManager]);\n  var resizeEventListenerCleanupFn = useRef(null);\n  var handleSliderFocus = useCallback(function () {\n    var _resizeEventListenerC;\n    /**\n     * We are only updating the range input's properties when the element is focused, as a performance optimisation.\n     * It isn't necessary to recalculate these values until the element is going to be used.\n     */\n\n    // Clean up any left over listeners in case `focus` was triggered again without `blur`.\n    (_resizeEventListenerC = resizeEventListenerCleanupFn.current) === null || _resizeEventListenerC === void 0 || _resizeEventListenerC.call(resizeEventListenerCleanupFn);\n\n    // Update the range input value to match the current panel width.\n    setRangeInputValue(panelWidth);\n    var resizeBounds = getResizeBounds();\n\n    // Update the range input bounds to ensure they are accurate (in case the viewport was previously resized)\n    setRangeInputBounds({\n      min: convertResizeBoundToPixels(resizeBounds.min),\n      max: convertResizeBoundToPixels(resizeBounds.max)\n    });\n\n    /**\n     * _While the slider element is focused_, add a window resize event listener to update the range input bounds\n     * when the window is resized. This is needed to ensure the min and max widths accurately reflect the viewport\n     * size - in case they are provided in vw units.\n     *\n     * This listener is cleaned up when the element is blurred.\n     */\n    resizeEventListenerCleanupFn.current = bind(window, {\n      type: 'resize',\n      listener: function updateState() {\n        var resizeBounds = getResizeBounds();\n        setRangeInputBounds({\n          min: convertResizeBoundToPixels(resizeBounds.min),\n          max: convertResizeBoundToPixels(resizeBounds.max)\n        });\n      }\n    });\n  }, [panelWidth, getResizeBounds]);\n  var handleSliderBlur = useCallback(function () {\n    var _resizeEventListenerC2;\n    // Remove the resize event listener when the range input is blurred.\n    (_resizeEventListenerC2 = resizeEventListenerCleanupFn.current) === null || _resizeEventListenerC2 === void 0 || _resizeEventListenerC2.call(resizeEventListenerCleanupFn);\n  }, []);\n  useEffect(function () {\n    return function cleanup() {\n      var _resizeEventListenerC3;\n      // Cleanup the resize event listener when the component is unmounted.\n      (_resizeEventListenerC3 = resizeEventListenerCleanupFn.current) === null || _resizeEventListenerC3 === void 0 || _resizeEventListenerC3.call(resizeEventListenerCleanupFn);\n    };\n  }, []);\n  var ariaValueText = useMemo(function () {\n    return \"\".concat(getPercentageWithinPixelBounds({\n      currentWidth: rangeInputValue,\n      resizeBounds: rangeInputBounds\n    }), \"% width\");\n  }, [rangeInputValue, rangeInputBounds]);\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": testId ? \"\".concat(testId, \"-container\") : undefined,\n    className: ax([containerStyles.root, position === 'start' && containerStyles.positionStart, position === 'end' && containerStyles.positionEnd])\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: splitterRef,\n    \"data-testid\": testId,\n    className: ax([grabAreaStyles.root])\n  }, /*#__PURE__*/React.createElement(VisuallyHidden, null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"range\",\n    value: rangeInputValue,\n    step: 20,\n    min: rangeInputBounds.min,\n    max: rangeInputBounds.max,\n    \"aria-valuetext\": ariaValueText,\n    \"aria-labelledby\": labelId,\n    onChange: handleSliderInputChange,\n    onFocus: handleSliderFocus,\n    onBlur: handleSliderBlur\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: labelId\n  }, label)), /*#__PURE__*/React.createElement(\"span\", {\n    className: ax([lineStyles.root])\n  }))), portal);\n};\n\n/**\n * _PanelSplitter_\n *\n * A component that allows the user to resize a layout area.\n * It can be used within layout areas like `SideNav`, `Panel`, and `Aside`. The layout area component should\n * provide the context for it using `<PanelSplitterProvider>`.\n *\n * Example usage in products:\n * ```tsx\n * <SideNav>\n *   {/* other side nav content *}\n *   <PanelSplitter label=\"Resize Side Nav\" />\n * </SideNav>\n * ```\n */\nexport var PanelSplitter = function PanelSplitter(_ref6) {\n  var label = _ref6.label,\n    onResizeStart = _ref6.onResizeStart,\n    onResizeEnd = _ref6.onResizeEnd,\n    testId = _ref6.testId;\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    panel = _useState8[0],\n    setPanel = _useState8[1];\n  var _useState9 = useState(null),\n    _useState0 = _slicedToArray(_useState9, 2),\n    portal = _useState0[0],\n    setPortal = _useState0[1];\n  var context = useContext(PanelSplitterContext);\n  invariant(context, 'Panel splitter context not set');\n  var panelRef = context.panelRef,\n    portalRef = context.portalRef,\n    isEnabled = context.isEnabled,\n    panelId = context.panelId,\n    panelWidth = context.panelWidth,\n    onCompleteResize = context.onCompleteResize,\n    getResizeBounds = context.getResizeBounds,\n    resizingCssVar = context.resizingCssVar,\n    position = context.position;\n\n  /**\n   * **Explanation**\n   *\n   * _How React Suspense works_\n   *\n   * When a component is suspended:\n   *\n   * - it is _not_ \"unmounted\" and effects are _not_ cleaned up\n   * - refs to react managed elements are cleared\n   * - react adds `display:none !important` as an inline style to hide the element\n   * - state is preserved\n   *\n   * When a suspended component is resumed:\n   * - `display:none !important` inline style is removed\n   * - it will re-render (without the refs set)\n   * - refs will be set\n   * - `useEffect` will _not_ re-run\n   *\n   * [More details](https://x.com/alexandereardon/status/1944617494569992440)\n   *\n   * _What does this mean for the panel splitter?_\n   *\n   * - The panel splitter renders into content into a react managed element (eg managed by Aside)\n   * - When UI is suspended the portal ref is cleared\n   * - After a suspense, we will get a render with cleared refs\n   * - ðŸ”¥ This is problematic if we want to portal into that ref during the render\n   *\n   * _Approach: initial render_\n   *\n   * - We cannot portal the panel splitter until after the refs are initially set\n   * - Effects run after refs being set. In an effect we set the ref values (which are populated),\n   *   trigger a re-render and then portal into the refs.\n   *\n   * _Approach: suspense_\n   *\n   * - We put the refs into react `state` after every render\n   * - The refs in `state` will not be cleared by suspending as effects are not run, or cleaned up,\n   *   when components are suspended / resumed.\n   * - After the post suspense render, we can use the `portalRef` (which was captured in an effect)\n   *   to continue to portal into.\n   *\n   * _Why not store `portalRef` in `state` in `<PanelSplitterProvider>`?_\n   *\n   * - The `portalRef` is set high in the tree, so a re-render will cause a\n   *   large amount of components to re-render (eg the whole sidebar)\n   * - After a suspense, we would need to do _another_ large re-render to propagate the new refs\n   * - With our current approach, any changes to `portalRef` will cause a re-render low in the tree\n   *   (just in the `<PanelSplitter>`)\n   */\n\n  // We want this effect to run after each render (see above)\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(function () {\n    // Don't need to do anything\n    if (!isEnabled) {\n      return;\n    }\n\n    // It is safe to access refs in useEffect, even with Suspense\n\n    var panelEl = panelRef.current;\n    var portalEl = portalRef.current;\n    invariant(panelEl, 'panelRef not set');\n    invariant(portalEl, 'portal element not set');\n\n    // Doing our own check, as this results in fewer re-renders than react\n    // (which also does it's own checks to see if a re-render should occur)\n    if (panelEl === panel && portalEl === portal) {\n      return;\n    }\n\n    // If refs don't change, react won't cause infinite loops\n    setPanel(panelEl);\n    setPortal(portalEl);\n  });\n  if (!isEnabled) {\n    return null;\n  }\n  if (!portal || !panel) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(PortaledPanelSplitter, {\n    label: label,\n    onResizeStart: onResizeStart,\n    onResizeEnd: onResizeEnd,\n    testId: testId,\n    panelId: panelId,\n    panel: panel,\n    portal: portal,\n    panelWidth: panelWidth,\n    onCompleteResize: onCompleteResize,\n    getResizeBounds: getResizeBounds,\n    resizingCssVar: resizingCssVar,\n    position: position\n  });\n};", "/** Create a new combined function that will call all the provided functions */\nexport function combine() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return function cleanup() {\n    fns.forEach(function (fn) {\n      return fn();\n    });\n  };\n}", "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { bind } from 'bind-event-listener';\nimport { getElementFromPointWithoutHoneypot } from '../honey-pot-fix/get-element-from-point-without-honey-pot';\nimport { makeHoneyPotFix } from '../honey-pot-fix/make-honey-pot-fix';\nimport { makeAdapter } from '../make-adapter/make-adapter';\nimport { combine } from '../public-utils/combine';\nimport { once } from '../public-utils/once';\nimport { addAttribute } from '../util/add-attribute';\nimport { androidFallbackText, isAndroid } from '../util/android';\nimport { getInput } from '../util/get-input';\nimport { textMediaType } from '../util/media-types/text-media-type';\nimport { URLMediaType } from '../util/media-types/url-media-type';\nimport { elementAdapterNativeDataKey } from './element-adapter-native-data-key';\nvar draggableRegistry = new WeakMap();\nfunction addToRegistry(args) {\n  draggableRegistry.set(args.element, args);\n  return function cleanup() {\n    draggableRegistry.delete(args.element);\n  };\n}\nvar honeyPotFix = makeHoneyPotFix();\nvar adapter = makeAdapter({\n  typeKey: 'element',\n  defaultDropEffect: 'move',\n  mount: function mount(api) {\n    /**  Binding event listeners the `document` rather than `window` so that\n     * this adapter always gets preference over the text adapter.\n     * `document` is the first `EventTarget` under `window`\n     * https://twitter.com/alexandereardon/status/1604658588311465985\n     */\n    return combine(honeyPotFix.bindEvents(), bind(document, {\n      type: 'dragstart',\n      listener: function listener(event) {\n        var _entry$dragHandle, _entry$getInitialData, _entry$getInitialData2, _entry$dragHandle2, _entry$getInitialData3, _entry$getInitialData4;\n        if (!api.canStart(event)) {\n          return;\n        }\n\n        // If the \"dragstart\" event is cancelled, then a drag won't start\n        // There will be no further drag operation events (eg no \"dragend\" event)\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        // Technically `dataTransfer` can be `null` according to the types\n        // But that behaviour does not seem to appear in the spec.\n        // If there is not `dataTransfer`, we can assume something is wrong and not\n        // start a drag\n        if (!event.dataTransfer) {\n          // Including this code on \"test\" and \"development\" environments:\n          // - Browser tests commonly run against \"development\" builds\n          // - Unit tests commonly run in \"test\"\n          if (process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.warn(\"\\n              It appears as though you have are not testing DragEvents correctly.\\n\\n              - If you are unit testing, ensure you have polyfilled DragEvent.\\n              - If you are browser testing, ensure you are dispatching drag events correctly.\\n\\n              Please see our testing guides for more information:\\n              https://atlassian.design/components/pragmatic-drag-and-drop/core-package/testing\\n            \".replace(/ {2}/g, ''));\n          }\n          return;\n        }\n\n        // the closest parent that is a draggable element will be marked as\n        // the `event.target` for the event\n        var target = event.target;\n\n        // this source is only for elements\n        // Note: only HTMLElements can have the \"draggable\" attribute\n        if (!(target instanceof HTMLElement)) {\n          return null;\n        }\n\n        // see if the thing being dragged is owned by us\n        var entry = draggableRegistry.get(target);\n\n        // no matching element found\n        // â†’ dragging an element with `draggable=\"true\"` that is not controlled by us\n        if (!entry) {\n          return null;\n        }\n\n        /**\n         * A text selection drag _can_ have the `draggable` element be\n         * the `event.target` if the user is dragging the text selection\n         * from the `draggable`.\n         *\n         * To know if the `draggable` is being dragged, we look at whether any\n         * `\"text/plain\"` data is being dragged. If it is, then a text selection\n         * drag is occurring.\n         *\n         * This behaviour has been validated on:\n         *\n         * - Chrome@128 on Android@14\n         * - Chrome@128 on iOS@17.6.1\n         * - Chrome@128 on Windows@11\n         * - Chrome@128 on MacOS@14.6.1\n         * - Firefox@129 on Windows@11 (not possible for user to select text in a draggable)\n         * - Firefox@129 on MacOS@14.6.1 (not possible for user to select text in a draggable)\n         *\n         * Note: Could usually just use: `event.dataTransfer.types.includes(textMediaType)`\n         * but unfortunately ProseMirror is always setting `\"\"` as the dragged text\n         *\n         * Note: Unfortunately editor is (heavily) leaning on the current functionality today\n         * and unwinding it will be a decent amount of effort. So for now, a text selection\n         * where the `event.target` is a `draggable` element will still trigger the\n         * element adapter.\n         *\n         * // Future state:\n         * if(event.dataTransfer.getData(textMediaType)) {\n         * \treturn;\n         * }\n         *\n         */\n\n        var input = getInput(event);\n        var feedback = {\n          element: entry.element,\n          dragHandle: (_entry$dragHandle = entry.dragHandle) !== null && _entry$dragHandle !== void 0 ? _entry$dragHandle : null,\n          input: input\n        };\n\n        // Check: does the draggable want to allow dragging?\n        if (entry.canDrag && !entry.canDrag(feedback)) {\n          // cancel drag operation if we cannot drag\n          event.preventDefault();\n          return null;\n        }\n\n        // Check: is there a drag handle and is the user using it?\n        if (entry.dragHandle) {\n          // technically don't need this util, but just being\n          // consistent with how we look up what is under the users\n          // cursor.\n          var over = getElementFromPointWithoutHoneypot({\n            x: input.clientX,\n            y: input.clientY\n          });\n\n          // if we are not dragging from the drag handle (or something inside the drag handle)\n          // then we will cancel the active drag\n          if (!entry.dragHandle.contains(over)) {\n            event.preventDefault();\n            return null;\n          }\n        }\n\n        /**\n         *  **Goal**\n         *  Pass information to other applications\n         *\n         * **Approach**\n         *  Put data into the native data store\n         *\n         *  **What about the native adapter?**\n         *  When the element adapter puts native data into the native data store\n         *  the native adapter is not triggered in the current window,\n         *  but a native adapter in an external window _can_ be triggered\n         *\n         *  **Why bake this into core?**\n         *  This functionality could be pulled out and exposed inside of\n         *  `onGenerateDragPreview`. But decided to make it a part of the\n         *  base API as it felt like a common enough use case and ended\n         *  up being a similar amount of code to include this function as\n         *  it was to expose the hook for it\n         */\n        var nativeData = (_entry$getInitialData = (_entry$getInitialData2 = entry.getInitialDataForExternal) === null || _entry$getInitialData2 === void 0 ? void 0 : _entry$getInitialData2.call(entry, feedback)) !== null && _entry$getInitialData !== void 0 ? _entry$getInitialData : null;\n        if (nativeData) {\n          for (var _i = 0, _Object$entries = Object.entries(nativeData); _i < _Object$entries.length; _i++) {\n            var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n              key = _Object$entries$_i[0],\n              data = _Object$entries$_i[1];\n            event.dataTransfer.setData(key, data !== null && data !== void 0 ? data : '');\n          }\n        }\n\n        /**\n         *  ðŸ“± For Android devices, a drag operation will not start unless\n         * \"text/plain\" or \"text/uri-list\" data exists in the native data store\n         * https://twitter.com/alexandereardon/status/1732189803754713424\n         *\n         * Tested on:\n         * Device: Google Pixel 5\n         * Android version: 14 (November 5, 2023)\n         * Chrome version: 120.0\n         */\n        if (isAndroid() && !event.dataTransfer.types.includes(textMediaType) && !event.dataTransfer.types.includes(URLMediaType)) {\n          event.dataTransfer.setData(textMediaType, androidFallbackText);\n        }\n\n        /**\n         * 1. Must set any media type for `iOS15` to work\n         * 2. We are also doing adding data so that the native adapter\n         * can know that the element adapter has handled this drag\n         *\n         * We used to wrap this `setData()` in a `try/catch` for Firefox,\n         * but it looks like that was not needed.\n         *\n         * Tested using: https://codesandbox.io/s/checking-firefox-throw-behaviour-on-dragstart-qt8h4f\n         *\n         * - âœ… Firefox@70.0 (Oct 2019) on macOS Sonoma\n         * - âœ… Firefox@70.0 (Oct 2019) on macOS Big Sur\n         * - âœ… Firefox@70.0 (Oct 2019) on Windows 10\n         *\n         * // just checking a few more combinations to be super safe\n         *\n         * - âœ… Chrome@78 (Oct 2019) on macOS Big Sur\n         * - âœ… Chrome@78 (Oct 2019) on Windows 10\n         * - âœ… Safari@14.1 on macOS Big Sur\n         */\n        event.dataTransfer.setData(elementAdapterNativeDataKey, '');\n        var payload = {\n          element: entry.element,\n          dragHandle: (_entry$dragHandle2 = entry.dragHandle) !== null && _entry$dragHandle2 !== void 0 ? _entry$dragHandle2 : null,\n          data: (_entry$getInitialData3 = (_entry$getInitialData4 = entry.getInitialData) === null || _entry$getInitialData4 === void 0 ? void 0 : _entry$getInitialData4.call(entry, feedback)) !== null && _entry$getInitialData3 !== void 0 ? _entry$getInitialData3 : {}\n        };\n        var dragType = {\n          type: 'element',\n          payload: payload,\n          startedFrom: 'internal'\n        };\n        api.start({\n          event: event,\n          dragType: dragType\n        });\n      }\n    }));\n  },\n  dispatchEventToSource: function dispatchEventToSource(_ref) {\n    var _draggableRegistry$ge, _draggableRegistry$ge2;\n    var eventName = _ref.eventName,\n      payload = _ref.payload;\n    // During a drag operation, a draggable can be:\n    // - remounted with different functions\n    // - removed completely\n    // So we need to get the latest entry from the registry in order\n    // to call the latest event functions\n\n    (_draggableRegistry$ge = draggableRegistry.get(payload.source.element)) === null || _draggableRegistry$ge === void 0 || (_draggableRegistry$ge2 = _draggableRegistry$ge[eventName]) === null || _draggableRegistry$ge2 === void 0 || _draggableRegistry$ge2.call(_draggableRegistry$ge,\n    // I cannot seem to get the types right here.\n    // TS doesn't seem to like that one event can need `nativeSetDragImage`\n    // @ts-expect-error\n    payload);\n  },\n  onPostDispatch: honeyPotFix.getOnPostDispatch()\n});\nexport var dropTargetForElements = adapter.dropTarget;\nexport var monitorForElements = adapter.monitor;\nexport function draggable(args) {\n  // Guardrail: warn if the drag handle is not contained in draggable element\n  if (process.env.NODE_ENV !== 'production') {\n    if (args.dragHandle && !args.element.contains(args.dragHandle)) {\n      // eslint-disable-next-line no-console\n      console.warn('Drag handle element must be contained in draggable element', {\n        element: args.element,\n        dragHandle: args.dragHandle\n      });\n    }\n  }\n  // Guardrail: warn if the draggable element is already registered\n  if (process.env.NODE_ENV !== 'production') {\n    var existing = draggableRegistry.get(args.element);\n    if (existing) {\n      // eslint-disable-next-line no-console\n      console.warn('You have already registered a `draggable` on the same element', {\n        existing: existing,\n        proposed: args\n      });\n    }\n  }\n  var cleanup = combine(\n  // making the draggable register the adapter rather than drop targets\n  // this is because you *must* have a draggable element to start a drag\n  // but you _might_ not have any drop targets immediately\n  // (You might create drop targets async)\n  adapter.registerUsage(), addToRegistry(args), addAttribute(args.element, {\n    attribute: 'draggable',\n    value: 'true'\n  }));\n\n  // Wrapping in `once` to prevent unexpected side effects if consumers call\n  // the clean up function multiple times.\n  return once(cleanup);\n}\n\n/** Common event payload for all events */\n\n/** A map containing payloads for all events */\n\n/** Common event payload for all drop target events */\n\n/** A map containing payloads for all events on drop targets */\n\n/** Arguments given to all feedback functions (eg `canDrag()`) on for a `draggable()` */\n\n/** Arguments given to all feedback functions (eg `canDrop()`) on a `dropTargetForElements()` */\n\n/** Arguments given to all monitor feedback functions (eg `canMonitor()`) for a `monitorForElements` */", "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { isHoneyPotElement } from './is-honey-pot-element';\nexport function getElementFromPointWithoutHoneypot(client) {\n  // eslint-disable-next-line no-restricted-syntax\n  var _document$elementsFro = document.elementsFromPoint(client.x, client.y),\n    _document$elementsFro2 = _slicedToArray(_document$elementsFro, 2),\n    top = _document$elementsFro2[0],\n    second = _document$elementsFro2[1];\n  if (!top) {\n    return null;\n  }\n  if (isHoneyPotElement(top)) {\n    return second !== null && second !== void 0 ? second : null;\n  }\n  return top;\n}", "// pulling this into a separate file so adapter(s) that don't\n// need the honey pot can pay as little as possible for it.\nexport var honeyPotDataAttribute = 'data-pdnd-honey-pot';", "import { honeyPotDataAttribute } from './honey-pot-data-attribute';\nexport function isHoneyPotElement(target) {\n  return target instanceof Element && target.hasAttribute(honeyPotDataAttribute);\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { bind, bindAll } from 'bind-event-listener';\nimport { maxZIndex } from '../util/max-z-index';\nimport { honeyPotDataAttribute } from './honey-pot-data-attribute';\nvar honeyPotSize = 2;\nvar halfHoneyPotSize = honeyPotSize / 2;\n\n/**\n * `clientX` and `clientY` can be in sub pixels (eg `2.332`)\n * However, browser hitbox testing is commonly do to the closest pixel.\n *\n * â†’ https://issues.chromium.org/issues/40940531\n *\n * To be sure that the honey pot will be over the `client` position,\n * we `.floor()` `clientX` and`clientY` and then make it `2px` in size.\n **/\nfunction floorToClosestPixel(point) {\n  return {\n    x: Math.floor(point.x),\n    y: Math.floor(point.y)\n  };\n}\n\n/**\n * We want to make sure the honey pot sits around the users position.\n * This seemed to be the most resilient while testing.\n */\nfunction pullBackByHalfHoneyPotSize(point) {\n  return {\n    x: point.x - halfHoneyPotSize,\n    y: point.y - halfHoneyPotSize\n  };\n}\n\n/**\n * Prevent the honey pot from changing the window size.\n * This is super unlikely to occur, but just being safe.\n */\nfunction preventGoingBackwardsOffScreen(point) {\n  return {\n    x: Math.max(point.x, 0),\n    y: Math.max(point.y, 0)\n  };\n}\n\n/**\n * Prevent the honey pot from changing the window size.\n * This is super unlikely to occur, but just being safe.\n */\nfunction preventGoingForwardsOffScreen(point) {\n  return {\n    x: Math.min(point.x, window.innerWidth - honeyPotSize),\n    y: Math.min(point.y, window.innerHeight - honeyPotSize)\n  };\n}\n\n/**\n * Create a `2x2` `DOMRect` around the `client` position\n */\nfunction getHoneyPotRectFor(_ref) {\n  var client = _ref.client;\n  var point = preventGoingForwardsOffScreen(preventGoingBackwardsOffScreen(pullBackByHalfHoneyPotSize(floorToClosestPixel(client))));\n\n  // When debugging, it is helpful to\n  // make this element a bit bigger\n  return DOMRect.fromRect({\n    x: point.x,\n    y: point.y,\n    width: honeyPotSize,\n    height: honeyPotSize\n  });\n}\nfunction getRectStyles(_ref2) {\n  var clientRect = _ref2.clientRect;\n  return {\n    left: \"\".concat(clientRect.left, \"px\"),\n    top: \"\".concat(clientRect.top, \"px\"),\n    width: \"\".concat(clientRect.width, \"px\"),\n    height: \"\".concat(clientRect.height, \"px\")\n  };\n}\nfunction isWithin(_ref3) {\n  var client = _ref3.client,\n    clientRect = _ref3.clientRect;\n  return (\n    // is within horizontal bounds\n    client.x >= clientRect.x && client.x <= clientRect.x + clientRect.width &&\n    // is within vertical bounds\n    client.y >= clientRect.y && client.y <= clientRect.y + clientRect.height\n  );\n}\n/**\n * The honey pot fix is designed to get around a painful bug in all browsers.\n *\n * [Overview](https://www.youtube.com/watch?v=udE9qbFTeQg)\n *\n * **Background**\n *\n * When a drag starts, browsers incorrectly think that the users pointer is\n * still depressed where the drag started. Any element that goes under this position\n * will be entered into, causing `\"mouseenter\"` events and `\":hover\"` styles to be applied.\n *\n * _This is a violation of the spec_\n *\n * > \"From the moment that the user agent is to initiate the drag-and-drop operation,\n * > until the end \tof the drag-and-drop operation, device input events\n * > (e.g. mouse and keyboard events) must be suppressed.\"\n * >\n * > - https://html.spec.whatwg.org/multipage/dnd.html#drag-and-drop-processing-model\n *\n * _Some impacts_\n *\n * - `\":hover\"` styles being applied where they shouldn't (looks messy)\n * - components such as tooltips responding to `\"mouseenter\"` can show during a drag,\n *   and on an element the user isn't even over\n *\n * Bug: https://issues.chromium.org/issues/41129937\n *\n * **Honey pot fix**\n *\n * 1. Create an element where the browser thinks the depressed pointer is\n *    to absorb the incorrect pointer events\n * 2. Remove that element when it is no longer needed\n */\nfunction mountHoneyPot(_ref4) {\n  var initial = _ref4.initial;\n  var element = document.createElement('div');\n  element.setAttribute(honeyPotDataAttribute, 'true');\n\n  // can shift during the drag thanks to Firefox\n  var clientRect = getHoneyPotRectFor({\n    client: initial\n  });\n  Object.assign(element.style, _objectSpread(_objectSpread({\n    // Setting a background color explicitly to avoid any inherited styles.\n    // Looks like this could be `opacity: 0`, but worried that _might_\n    // cause the element to be ignored on some platforms.\n    // When debugging, set backgroundColor to something like \"red\".\n    backgroundColor: 'transparent',\n    position: 'fixed',\n    // Being explicit to avoid inheriting styles\n    padding: 0,\n    margin: 0,\n    boxSizing: 'border-box'\n  }, getRectStyles({\n    clientRect: clientRect\n  })), {}, {\n    // We want this element to absorb pointer events,\n    // it's kind of the whole point ðŸ˜‰\n    pointerEvents: 'auto',\n    // Want to make sure the honey pot is top of everything else.\n    // Don't need to worry about native drag previews, as they will\n    // have been rendered (and removed) before the honey pot is rendered\n    zIndex: maxZIndex\n  }));\n  document.body.appendChild(element);\n\n  /**\n   *  ðŸ¦Š In firefox we can get `\"pointermove\"` events after the drag\n   * has started, which is a spec violation.\n   * The final `\"pointermove\"` will reveal where the \"depressed\" position\n   * is for our honey pot fix.\n   */\n  var unbindPointerMove = bind(window, {\n    type: 'pointermove',\n    listener: function listener(event) {\n      var client = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      clientRect = getHoneyPotRectFor({\n        client: client\n      });\n      Object.assign(element.style, getRectStyles({\n        clientRect: clientRect\n      }));\n    },\n    // using capture so we are less likely to be impacted by event stopping\n    options: {\n      capture: true\n    }\n  });\n  return function finish(_ref5) {\n    var current = _ref5.current;\n    // Don't need this any more\n    unbindPointerMove();\n\n    // If the user is hover the honey pot, we remove it\n    // so that the user can continue to interact with the page normally.\n    if (isWithin({\n      client: current,\n      clientRect: clientRect\n    })) {\n      element.remove();\n      return;\n    }\n    function cleanup() {\n      unbindPostDragEvents();\n      element.remove();\n    }\n    var unbindPostDragEvents = bindAll(window, [{\n      type: 'pointerdown',\n      listener: cleanup\n    }, {\n      type: 'pointermove',\n      listener: cleanup\n    }, {\n      type: 'focusin',\n      listener: cleanup\n    }, {\n      type: 'focusout',\n      listener: cleanup\n    },\n    // a 'pointerdown' should happen before 'dragstart', but just being super safe\n    {\n      type: 'dragstart',\n      listener: cleanup\n    },\n    // if the user has dragged something out of the window\n    // and then is dragging something back into the window\n    // the first events we will see are \"dragenter\" (and then \"dragover\").\n    // So if we see any of these we need to clear the post drag fix.\n    {\n      type: 'dragenter',\n      listener: cleanup\n    }, {\n      type: 'dragover',\n      listener: cleanup\n    }\n\n    // Not adding a \"wheel\" event listener, as \"wheel\" by itself does not\n    // resolve the bug.\n    ], {\n      // Using `capture` so less likely to be impacted by other code stopping events\n      capture: true\n    });\n  };\n}\nexport function makeHoneyPotFix() {\n  var latestPointerMove = null;\n  function bindEvents() {\n    // For sanity, only collecting this value from when events are first bound.\n    // This prevents the case where a super old \"pointermove\" could be used\n    // from a prior interaction.\n    latestPointerMove = null;\n    return bind(window, {\n      type: 'pointermove',\n      listener: function listener(event) {\n        latestPointerMove = {\n          x: event.clientX,\n          y: event.clientY\n        };\n      },\n      // listening for pointer move in capture phase\n      // so we are less likely to be impacted by events being stopped.\n      options: {\n        capture: true\n      }\n    });\n  }\n  function getOnPostDispatch() {\n    var finish = null;\n    return function onPostEvent(_ref6) {\n      var eventName = _ref6.eventName,\n        payload = _ref6.payload;\n      // We are adding the honey pot `onDragStart` so we don't\n      // impact the creation of the native drag preview.\n      if (eventName === 'onDragStart') {\n        var input = payload.location.initial.input;\n\n        // Sometimes there will be no latest \"pointermove\" (eg iOS).\n        // In which case, we use the start position of the drag.\n        var initial = latestPointerMove !== null && latestPointerMove !== void 0 ? latestPointerMove : {\n          x: input.clientX,\n          y: input.clientY\n        };\n\n        // Don't need to defensively call `finish()` as `onDrop` from\n        // one interaction is guaranteed to be called before `onDragStart`\n        // of the next.\n        finish = mountHoneyPot({\n          initial: initial\n        });\n      }\n      if (eventName === 'onDrop') {\n        var _finish;\n        var _input = payload.location.current.input;\n        (_finish = finish) === null || _finish === void 0 || _finish({\n          current: {\n            x: _input.clientX,\n            y: _input.clientY\n          }\n        });\n        finish = null;\n        // this interaction is finished, we want to use\n        // the latest \"pointermove\" for each interaction\n        latestPointerMove = null;\n      }\n    };\n  }\n  return {\n    bindEvents: bindEvents,\n    getOnPostDispatch: getOnPostDispatch\n  };\n}", "// Maximum possible z-index\n// https://stackoverflow.com/questions/491052/minimum-and-maximum-value-of-z-index\nexport var maxZIndex = 2147483647;", "import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { bindAll } from 'bind-event-listener';\nimport { getElementFromPointWithoutHoneypot } from '../honey-pot-fix/get-element-from-point-without-honey-pot';\nimport { isHoneyPotElement } from '../honey-pot-fix/is-honey-pot-element';\nimport { isLeavingWindow } from '../util/changing-window/is-leaving-window';\nimport { getBindingsForBrokenDrags } from '../util/detect-broken-drag';\nimport { getInput } from '../util/get-input';\nimport { makeDispatch } from './dispatch-consumer-event';\nvar globalState = {\n  isActive: false\n};\nfunction canStart() {\n  return !globalState.isActive;\n}\nfunction getNativeSetDragImage(event) {\n  if (event.dataTransfer) {\n    // need to use `.bind` as `setDragImage` is required\n    // to be run with `event.dataTransfer` as the \"this\" context\n    return event.dataTransfer.setDragImage.bind(event.dataTransfer);\n  }\n  return null;\n}\nfunction hasHierarchyChanged(_ref) {\n  var current = _ref.current,\n    next = _ref.next;\n  if (current.length !== next.length) {\n    return true;\n  }\n  // not checking stickiness, data or dropEffect,\n  // just whether the hierarchy has changed\n  for (var i = 0; i < current.length; i++) {\n    if (current[i].element !== next[i].element) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction start(_ref2) {\n  var event = _ref2.event,\n    dragType = _ref2.dragType,\n    getDropTargetsOver = _ref2.getDropTargetsOver,\n    dispatchEvent = _ref2.dispatchEvent;\n  if (!canStart()) {\n    return;\n  }\n  var initial = getStartLocation({\n    event: event,\n    dragType: dragType,\n    getDropTargetsOver: getDropTargetsOver\n  });\n  globalState.isActive = true;\n  var state = {\n    current: initial\n  };\n\n  // Setting initial drop effect for the drag\n  setDropEffectOnEvent({\n    event: event,\n    current: initial.dropTargets\n  });\n  var dispatch = makeDispatch({\n    source: dragType.payload,\n    dispatchEvent: dispatchEvent,\n    initial: initial\n  });\n  function updateState(next) {\n    // only looking at whether hierarchy has changed to determine whether something as 'changed'\n    var hasChanged = hasHierarchyChanged({\n      current: state.current.dropTargets,\n      next: next.dropTargets\n    });\n\n    // Always updating the state to include latest data, dropEffect and stickiness\n    // Only updating consumers if the hierarchy has changed in some way\n    // Consumers can get the latest data by using `onDrag`\n    state.current = next;\n    if (hasChanged) {\n      dispatch.dragUpdate({\n        current: state.current\n      });\n    }\n  }\n  function onUpdateEvent(event) {\n    var input = getInput(event);\n\n    // If we are over the honey pot, we need to get the element\n    // that the user would have been over if not for the honey pot\n    var target = isHoneyPotElement(event.target) ? getElementFromPointWithoutHoneypot({\n      x: input.clientX,\n      y: input.clientY\n    }) : event.target;\n    var nextDropTargets = getDropTargetsOver({\n      target: target,\n      input: input,\n      source: dragType.payload,\n      current: state.current.dropTargets\n    });\n    if (nextDropTargets.length) {\n      // ðŸ©¸ must call `event.preventDefault()` to allow a browser drop to occur\n      event.preventDefault();\n      setDropEffectOnEvent({\n        event: event,\n        current: nextDropTargets\n      });\n    }\n    updateState({\n      dropTargets: nextDropTargets,\n      input: input\n    });\n  }\n  function cancel() {\n    // The spec behaviour is that when a drag is cancelled, or when dropping on no drop targets,\n    // a \"dragleave\" event is fired on the active drop target before a \"dragend\" event.\n    // We are replicating that behaviour in `cancel` if there are any active drop targets to\n    // ensure consistent behaviour.\n    //\n    // Note: When cancelling, or dropping on no drop targets, a \"dragleave\" event\n    // will have already cleared the dropTargets to `[]` (as that particular \"dragleave\" has a `relatedTarget` of `null`)\n\n    if (state.current.dropTargets.length) {\n      updateState({\n        dropTargets: [],\n        input: state.current.input\n      });\n    }\n    dispatch.drop({\n      current: state.current,\n      updatedSourcePayload: null\n    });\n    finish();\n  }\n  function finish() {\n    globalState.isActive = false;\n    unbindEvents();\n  }\n  var unbindEvents = bindAll(window, [{\n    // ðŸ‘‹ Note: we are repurposing the `dragover` event as our `drag` event\n    // this is because firefox does not publish pointer coordinates during\n    // a `drag` event, but does for every other type of drag event\n    // `dragover` fires on all elements that are being dragged over\n    // Because we are binding to `window` - our `dragover` is effectively the same as a `drag`\n    // ðŸ¦ŠðŸ˜¤\n    type: 'dragover',\n    listener: function listener(event) {\n      // We need to regularly calculate the drop targets in order to allow:\n      //  - dynamic `canDrop()` checks\n      //  - rapid updating `getData()` calls to attach data in response to user input (eg for edge detection)\n      // Sadly we cannot schedule inspecting changes resulting from this event\n      // we need to be able to conditionally cancel the event with `event.preventDefault()`\n      // to enable the correct native drop experience.\n\n      // 1. check to see if anything has changed\n      onUpdateEvent(event);\n\n      // 2. let consumers know a move has occurred\n      // This will include the latest 'input' values\n      dispatch.drag({\n        current: state.current\n      });\n    }\n  }, {\n    type: 'dragenter',\n    listener: onUpdateEvent\n  }, {\n    type: 'dragleave',\n    listener: function listener(event) {\n      if (!isLeavingWindow({\n        dragLeave: event\n      })) {\n        return;\n      }\n\n      /**\n       * At this point we don't know if a drag is being cancelled,\n       * or if a drag is leaving the `window`.\n       *\n       * Both have:\n       *   1. \"dragleave\" (with `relatedTarget: null`)\n       *   2. \"dragend\" (a \"dragend\" can occur when outside the `window`)\n       *\n       * **Clearing drop targets**\n       *\n       * For either case we are clearing the the drop targets\n       *\n       * - cancelling: we clear drop targets in `\"dragend\"` anyway\n       * - leaving the `window`: we clear the drop targets (to clear stickiness)\n       *\n       * **Leaving the window and finishing the drag**\n       *\n       * _internal drags_\n       *\n       * - The drag continues when the user is outside the `window`\n       *   and can resume if the user drags back over the `window`,\n       *   or end when the user drops in an external `window`.\n       * - We will get a `\"dragend\"`, or we can listen for other\n       *   events to determine the drag is finished when the user re-enters the `window`).\n       *\n       * _external drags_\n       *\n       * - We conclude the drag operation.\n       * - We have no idea if the user will drag back over the `window`,\n       *   or if the drag ends elsewhere.\n       * - We will create a new drag if the user re-enters the `window`.\n       *\n       * **Not updating `input`**\n       *\n       * ðŸ› Bug[Chrome] the final `\"dragleave\"` has default input values (eg `clientX == 0`)\n       * Workaround: intentionally not updating `input` in \"dragleave\"\n       * rather than the users current input values\n       * - [Conversation](https://twitter.com/alexandereardon/status/1642697633864241152)\n       * - [Bug](https://bugs.chromium.org/p/chromium/issues/detail?id=1429937)\n       **/\n\n      updateState({\n        input: state.current.input,\n        dropTargets: []\n      });\n      if (dragType.startedFrom === 'external') {\n        cancel();\n      }\n    }\n  }, {\n    // A \"drop\" can only happen if the browser allowed the drop\n    type: 'drop',\n    listener: function listener(event) {\n      // Capture the final input.\n      // We are capturing the final `input` for the\n      // most accurate honey pot experience\n      state.current = {\n        dropTargets: state.current.dropTargets,\n        input: getInput(event)\n      };\n\n      /** If there are no drop targets, then we will get\n       * a \"drop\" event if:\n       * - `preventUnhandled()` is being used\n       * - there is an unmanaged drop target (eg another library)\n       * In these cases, it's up to the consumer\n       * to handle the drop if it's not over one of our drop targets\n       * - `preventUnhandled()` will cancel the \"drop\"\n       * - unmanaged drop targets can handle the \"drop\" how they want to\n       * We won't call `event.preventDefault()` in this call path */\n\n      if (!state.current.dropTargets.length) {\n        cancel();\n        return;\n      }\n      event.preventDefault();\n\n      // applying the latest drop effect to the event\n      setDropEffectOnEvent({\n        event: event,\n        current: state.current.dropTargets\n      });\n      dispatch.drop({\n        current: state.current,\n        // When dropping something native, we need to extract the latest\n        // `.items` from the \"drop\" event as it is now accessible\n        updatedSourcePayload: dragType.type === 'external' ? dragType.getDropPayload(event) : null\n      });\n      finish();\n    }\n  }, {\n    // \"dragend\" fires when on the drag source (eg a draggable element)\n    // when the drag is finished.\n    // \"dragend\" will fire after \"drop\" (if there was a successful drop)\n    // \"dragend\" does not fire if the draggable source has been removed during the drag\n    // or for external drag sources (eg files)\n\n    // This \"dragend\" listener will not fire if there was a successful drop\n    // as we will have already removed the event listener\n\n    type: 'dragend',\n    listener: function listener(event) {\n      // In firefox, the position of the \"dragend\" event can\n      // be a bit different to the last \"dragover\" event.\n      // Updating the input so we can get the best possible\n      // information for the honey pot.\n      state.current = {\n        dropTargets: state.current.dropTargets,\n        input: getInput(event)\n      };\n      cancel();\n    }\n  }].concat(_toConsumableArray(getBindingsForBrokenDrags({\n    onDragEnd: cancel\n  }))),\n  // Once we have started a managed drag operation it is important that we see / own all drag events\n  // We got one adoption bug pop up where some code was stopping (`event.stopPropagation()`)\n  // all \"drop\" events in the bubble phase on the `document.body`.\n  // This meant that we never saw the \"drop\" event.\n  {\n    capture: true\n  });\n  dispatch.start({\n    nativeSetDragImage: getNativeSetDragImage(event)\n  });\n}\nfunction setDropEffectOnEvent(_ref3) {\n  var _current$;\n  var event = _ref3.event,\n    current = _ref3.current;\n  // setting the `dropEffect` to be the innerMost drop targets dropEffect\n  var innerMost = (_current$ = current[0]) === null || _current$ === void 0 ? void 0 : _current$.dropEffect;\n  if (innerMost != null && event.dataTransfer) {\n    event.dataTransfer.dropEffect = innerMost;\n  }\n}\nfunction getStartLocation(_ref4) {\n  var event = _ref4.event,\n    dragType = _ref4.dragType,\n    getDropTargetsOver = _ref4.getDropTargetsOver;\n  var input = getInput(event);\n\n  // When dragging from outside of the browser,\n  // the drag is not being sourced from any local drop targets\n  if (dragType.startedFrom === 'external') {\n    return {\n      input: input,\n      dropTargets: []\n    };\n  }\n  var dropTargets = getDropTargetsOver({\n    input: input,\n    source: dragType.payload,\n    target: event.target,\n    current: []\n  });\n  return {\n    input: input,\n    dropTargets: dropTargets\n  };\n}\nexport var lifecycle = {\n  canStart: canStart,\n  start: start\n};", "/** Provide a function that you only ever want to be called a single time */\nexport function once(fn) {\n  var cache = null;\n  return function wrapped() {\n    if (!cache) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var result = fn.apply(this, args);\n      cache = {\n        result: result\n      };\n    }\n    return cache.result;\n  };\n}", "import { once } from '../public-utils/once';\n\n// using `cache` as our `isFirefox()` result will not change in a browser\n\n/**\n * Returns `true` if a `Firefox` browser\n * */\nexport var isFirefox = once(function isFirefox() {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n  return navigator.userAgent.includes('Firefox');\n});", "import { once } from '../public-utils/once';\n\n// using `cache` as our `isSafari()` result will not change in a browser\n\n/**\n * Returns `true` if a `Safari` browser.\n * Returns `true` if the browser is running on iOS (they are all Safari).\n *\n * Use `isSafariOnIOS` if you want to check if something is Safari + iOS\n * */\nexport var isSafari = once(function isSafari() {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n  var _navigator = navigator,\n    userAgent = _navigator.userAgent;\n  return userAgent.includes('AppleWebKit') && !userAgent.includes('Chrome');\n});", "import { bindAll } from 'bind-event-listener';\nimport { isSafari } from '../is-safari';\n\n/* For \"dragenter\" events, the browser should set `relatedTarget` to the previous element.\n * For external drag operations, our first \"dragenter\" event should have a `event.relatedTarget` of `null`.\n *\n *  Unfortunately in Safari `event.relatedTarget` is *always* set to `null`\n *  Safari bug: https://bugs.webkit.org/show_bug.cgi?id=242627\n *  To work around this we count \"dragenter\" and \"dragleave\" events */\n\n// Using symbols for event properties so we don't clash with\n// anything on the `event` object\nvar symbols = {\n  isLeavingWindow: Symbol('leaving'),\n  isEnteringWindow: Symbol('entering')\n};\nexport function isEnteringWindowInSafari(_ref) {\n  var dragEnter = _ref.dragEnter;\n  if (!isSafari()) {\n    return false;\n  }\n  return dragEnter.hasOwnProperty(symbols.isEnteringWindow);\n}\nexport function isLeavingWindowInSafari(_ref2) {\n  var dragLeave = _ref2.dragLeave;\n  if (!isSafari()) {\n    return false;\n  }\n  return dragLeave.hasOwnProperty(symbols.isLeavingWindow);\n}\n(function fixSafari() {\n  // Don't do anything when server side rendering\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // rather than checking the userAgent for \"jsdom\" we can do this check\n  // so that the check will be removed completely in production code\n  if (process.env.NODE_ENV === 'test') {\n    return;\n  }\n  if (!isSafari()) {\n    return;\n  }\n  function getInitialState() {\n    return {\n      enterCount: 0,\n      isOverWindow: false\n    };\n  }\n  var state = getInitialState();\n  function resetState() {\n    state = getInitialState();\n  }\n\n  // These event listeners are bound _forever_ and _never_ removed\n  // We don't bother cleaning up these event listeners (for now)\n  // as this workaround is only for Safari\n\n  // This is how the event count works:\n  //\n  // lift (+1 enterCount)\n  // - dragstart(draggable) [enterCount: 0]\n  // - dragenter(draggable) [enterCount: 1]\n  // leaving draggable (+0 enterCount)\n  // - dragenter(document.body) [enterCount: 2]\n  // - dragleave(draggable) [enterCount: 1]\n  // leaving window (-1 enterCount)\n  // - dragleave(document.body) [enterCount: 0] {leaving the window}\n\n  // Things to note:\n  // - dragenter and dragleave bubble\n  // - the first dragenter when entering a window might not be on `window`\n  //   - it could be on an element that is pressed up against the window\n  //   - (so we cannot rely on `event.target` values)\n\n  bindAll(window, [{\n    type: 'dragstart',\n    listener: function listener() {\n      state.enterCount = 0;\n      // drag start occurs in the source window\n      state.isOverWindow = true;\n      // When a drag first starts it will also trigger a \"dragenter\" on the draggable element\n    }\n  }, {\n    type: 'drop',\n    listener: resetState\n  }, {\n    type: 'dragend',\n    listener: resetState\n  }, {\n    type: 'dragenter',\n    listener: function listener(event) {\n      if (!state.isOverWindow && state.enterCount === 0) {\n        // Patching the `event` object\n        // The `event` object is shared with all event listeners for the event\n        // @ts-expect-error: adding property to the event object\n        event[symbols.isEnteringWindow] = true;\n      }\n      state.isOverWindow = true;\n      state.enterCount++;\n    }\n  }, {\n    type: 'dragleave',\n    listener: function listener(event) {\n      state.enterCount--;\n      if (state.isOverWindow && state.enterCount === 0) {\n        // Patching the `event` object as it is shared with all event listeners\n        // The `event` object is shared with all event listeners for the event\n        // @ts-expect-error: adding property to the event object\n        event[symbols.isLeavingWindow] = true;\n        state.isOverWindow = false;\n      }\n    }\n  }],\n  // using `capture: true` so that adding event listeners\n  // in bubble phase will have the correct symbols\n  {\n    capture: true\n  });\n})();", "/**\n * Does the `EventTarget` look like a `Node` based on \"duck typing\".\n *\n * Helpful when the `Node` might be outside of the current document\n * so we cannot to an `target instanceof Node` check.\n */\nfunction isNodeLike(target) {\n  return 'nodeName' in target;\n}\n\n/**\n * Is an `EventTarget` a `Node` from another `window`?\n */\nexport function isFromAnotherWindow(eventTarget) {\n  return isNodeLike(eventTarget) && eventTarget.ownerDocument !== document;\n}", "import { isFirefox } from '../is-firefox';\nimport { isSafari } from '../is-safari';\nimport { isLeavingWindowInSafari } from './count-events-for-safari';\nimport { isFromAnotherWindow } from './is-from-another-window';\nexport function isLeavingWindow(_ref) {\n  var dragLeave = _ref.dragLeave;\n  var type = dragLeave.type,\n    relatedTarget = dragLeave.relatedTarget;\n  if (type !== 'dragleave') {\n    return false;\n  }\n  if (isSafari()) {\n    return isLeavingWindowInSafari({\n      dragLeave: dragLeave\n    });\n  }\n\n  // Standard check: if going to `null` we are leaving the `window`\n  if (relatedTarget == null) {\n    return true;\n  }\n\n  /**\n   * ðŸ¦Š Exception: `iframe` in Firefox (`125.0`)\n   *\n   * Case 1: parent `window` â†’ child `iframe`\n   * `dragLeave.relatedTarget` is element _inside_ the child `iframe`\n   * (foreign element)\n   *\n   * Case 2: child `iframe` â†’ parent `window`\n   * `dragLeave.relatedTarget` is the `iframe` in the parent `window`\n   * (foreign element)\n   */\n\n  if (isFirefox()) {\n    return isFromAnotherWindow(relatedTarget);\n  }\n\n  /**\n   * ðŸŒ Exception: `iframe` in Chrome (`124.0`)\n   *\n   * Case 1: parent `window` â†’ child `iframe`\n   * `dragLeave.relatedTarget` is the `iframe` in the parent `window`\n   *\n   * Case 2: child `iframe` â†’ parent `window`\n   * `dragLeave.relatedTarget` is `null` *(standard check)*\n   */\n\n  // Case 2\n  // Using `instanceof` check as the element will be in the same `window`\n  return relatedTarget instanceof HTMLIFrameElement;\n}", "export function getBindingsForBrokenDrags(_ref) {\n  var onDragEnd = _ref.onDragEnd;\n  return [\n  // ## Detecting drag ending for removed draggables\n  //\n  // If a draggable element is removed during a drag and the user drops:\n  // 1. if over a valid drop target: we get a \"drop\" event to know the drag is finished\n  // 2. if not over a valid drop target (or cancelled): we get nothing\n  // The \"dragend\" event will not fire on the source draggable if it has been\n  // removed from the DOM.\n  // So we need to figure out if a drag operation has finished by looking at other events\n  // We can do this by looking at other events\n\n  // ### First detection: \"pointermove\" events\n\n  // 1. \"pointermove\" events cannot fire during a drag and drop operation\n  // according to the spec. So if we get a \"pointermove\" it means that\n  // the drag and drop operations has finished. So if we get a \"pointermove\"\n  // we know that the drag is over\n  // 2. ðŸ¦ŠðŸ˜¤ Drag and drop operations are _supposed_ to suppress\n  // other pointer events. However, firefox will allow a few\n  // pointer event to get through after a drag starts.\n  // The most I've seen is 3\n  {\n    type: 'pointermove',\n    listener: function () {\n      var callCount = 0;\n      return function listener() {\n        // Using 20 as it is far bigger than the most observed (3)\n        if (callCount < 20) {\n          callCount++;\n          return;\n        }\n        onDragEnd();\n      };\n    }()\n  },\n  // ### Second detection: \"pointerdown\" events\n\n  // If we receive this event then we know that a drag operation has finished\n  // and potentially another one is about to start.\n  // Note: `pointerdown` fires on all browsers / platforms before \"dragstart\"\n  {\n    type: 'pointerdown',\n    listener: onDragEnd\n  }];\n}", "export function getInput(event) {\n  return {\n    altKey: event.altKey,\n    button: event.button,\n    buttons: event.buttons,\n    ctrlKey: event.ctrlKey,\n    metaKey: event.metaKey,\n    shiftKey: event.shiftKey,\n    clientX: event.clientX,\n    clientY: event.clientY,\n    pageX: event.pageX,\n    pageY: event.pageY\n  };\n}", "var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n", "import rafSchd from 'raf-schd';\nvar scheduleOnDrag = rafSchd(function (fn) {\n  return fn();\n});\nvar dragStart = function () {\n  var scheduled = null;\n  function schedule(fn) {\n    var frameId = requestAnimationFrame(function () {\n      scheduled = null;\n      fn();\n    });\n    scheduled = {\n      frameId: frameId,\n      fn: fn\n    };\n  }\n  function flush() {\n    if (scheduled) {\n      cancelAnimationFrame(scheduled.frameId);\n      scheduled.fn();\n      scheduled = null;\n    }\n  }\n  return {\n    schedule: schedule,\n    flush: flush\n  };\n}();\nexport function makeDispatch(_ref) {\n  var source = _ref.source,\n    initial = _ref.initial,\n    dispatchEvent = _ref.dispatchEvent;\n  var previous = {\n    dropTargets: []\n  };\n  function safeDispatch(args) {\n    dispatchEvent(args);\n    previous = {\n      dropTargets: args.payload.location.current.dropTargets\n    };\n  }\n  var dispatch = {\n    start: function start(_ref2) {\n      var nativeSetDragImage = _ref2.nativeSetDragImage;\n      // Ensuring that both `onGenerateDragPreview` and `onDragStart` get the same location.\n      // We do this so that `previous` is`[]` in `onDragStart` (which is logical)\n      var location = {\n        current: initial,\n        previous: previous,\n        initial: initial\n      };\n      // a `onGenerateDragPreview` does _not_ add another entry for `previous`\n      // onDragPreview\n      safeDispatch({\n        eventName: 'onGenerateDragPreview',\n        payload: {\n          source: source,\n          location: location,\n          nativeSetDragImage: nativeSetDragImage\n        }\n      });\n      dragStart.schedule(function () {\n        safeDispatch({\n          eventName: 'onDragStart',\n          payload: {\n            source: source,\n            location: location\n          }\n        });\n      });\n    },\n    dragUpdate: function dragUpdate(_ref3) {\n      var current = _ref3.current;\n      dragStart.flush();\n      scheduleOnDrag.cancel();\n      safeDispatch({\n        eventName: 'onDropTargetChange',\n        payload: {\n          source: source,\n          location: {\n            initial: initial,\n            previous: previous,\n            current: current\n          }\n        }\n      });\n    },\n    drag: function drag(_ref4) {\n      var current = _ref4.current;\n      scheduleOnDrag(function () {\n        dragStart.flush();\n        var location = {\n          initial: initial,\n          previous: previous,\n          current: current\n        };\n        safeDispatch({\n          eventName: 'onDrag',\n          payload: {\n            source: source,\n            location: location\n          }\n        });\n      });\n    },\n    drop: function drop(_ref5) {\n      var current = _ref5.current,\n        updatedSourcePayload = _ref5.updatedSourcePayload;\n      dragStart.flush();\n      scheduleOnDrag.cancel();\n      safeDispatch({\n        eventName: 'onDrop',\n        payload: {\n          source: updatedSourcePayload !== null && updatedSourcePayload !== void 0 ? updatedSourcePayload : source,\n          location: {\n            current: current,\n            previous: previous,\n            initial: initial\n          }\n        }\n      });\n    }\n  };\n  return dispatch;\n}", "// Extending `Map` to allow us to link Key and Values together\n\nvar ledger = new Map();\nfunction registerUsage(_ref) {\n  var typeKey = _ref.typeKey,\n    mount = _ref.mount;\n  var entry = ledger.get(typeKey);\n  if (entry) {\n    entry.usageCount++;\n    return entry;\n  }\n  var initial = {\n    typeKey: typeKey,\n    unmount: mount(),\n    usageCount: 1\n  };\n  ledger.set(typeKey, initial);\n  return initial;\n}\nexport function register(args) {\n  var entry = registerUsage(args);\n  return function unregister() {\n    entry.usageCount--;\n    if (entry.usageCount > 0) {\n      return;\n    }\n    // Only a single usage left, remove it\n    entry.unmount();\n    ledger.delete(args.typeKey);\n  };\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { combine } from '../public-utils/combine';\nimport { once } from '../public-utils/once';\nimport { addAttribute } from '../util/add-attribute';\nfunction copyReverse(array) {\n  return array.slice(0).reverse();\n}\nexport function makeDropTarget(_ref) {\n  var typeKey = _ref.typeKey,\n    defaultDropEffect = _ref.defaultDropEffect;\n  var registry = new WeakMap();\n  var dropTargetDataAtt = \"data-drop-target-for-\".concat(typeKey);\n  var dropTargetSelector = \"[\".concat(dropTargetDataAtt, \"]\");\n  function addToRegistry(args) {\n    registry.set(args.element, args);\n    return function () {\n      return registry.delete(args.element);\n    };\n  }\n  function dropTargetForConsumers(args) {\n    // Guardrail: warn if the draggable element is already registered\n    if (process.env.NODE_ENV !== 'production') {\n      var existing = registry.get(args.element);\n      if (existing) {\n        // eslint-disable-next-line no-console\n        console.warn(\"You have already registered a [\".concat(typeKey, \"] dropTarget on the same element\"), {\n          existing: existing,\n          proposed: args\n        });\n      }\n      if (args.element instanceof HTMLIFrameElement) {\n        // eslint-disable-next-line no-console\n        console.warn(\"\\n            We recommend not registering <iframe> elements as drop targets\\n            as it can result in some strange browser event ordering.\\n          \" // Removing newlines and excessive whitespace\n        .replace(/\\s{2,}/g, ' ').trim());\n      }\n    }\n    var cleanup = combine(addAttribute(args.element, {\n      attribute: dropTargetDataAtt,\n      value: 'true'\n    }), addToRegistry(args));\n\n    // Wrapping in `once` to prevent unexpected side effects if consumers call\n    // the clean up function multiple times.\n    return once(cleanup);\n  }\n  function getActualDropTargets(_ref2) {\n    var _args$getData, _args$getData2, _args$getDropEffect, _args$getDropEffect2;\n    var source = _ref2.source,\n      target = _ref2.target,\n      input = _ref2.input,\n      _ref2$result = _ref2.result,\n      result = _ref2$result === void 0 ? [] : _ref2$result;\n    if (target == null) {\n      return result;\n    }\n    if (!(target instanceof Element)) {\n      // For \"text-selection\" drags, the original `target`\n      // is not an `Element`, so we need to start looking from\n      // the parent element\n      if (target instanceof Node) {\n        return getActualDropTargets({\n          source: source,\n          target: target.parentElement,\n          input: input,\n          result: result\n        });\n      }\n\n      // not sure what we are working with,\n      // so we can exit.\n      return result;\n    }\n    var closest = target.closest(dropTargetSelector);\n\n    // Cannot find anything else\n    if (closest == null) {\n      return result;\n    }\n    var args = registry.get(closest);\n\n    // error: something had a dropTargetSelector but we could not\n    // find a match. For now, failing silently\n    if (args == null) {\n      return result;\n    }\n    var feedback = {\n      input: input,\n      source: source,\n      element: args.element\n    };\n\n    // if dropping is not allowed, skip this drop target\n    // and continue looking up the DOM tree\n    if (args.canDrop && !args.canDrop(feedback)) {\n      return getActualDropTargets({\n        source: source,\n        target: args.element.parentElement,\n        input: input,\n        result: result\n      });\n    }\n\n    // calculate our new record\n    var data = (_args$getData = (_args$getData2 = args.getData) === null || _args$getData2 === void 0 ? void 0 : _args$getData2.call(args, feedback)) !== null && _args$getData !== void 0 ? _args$getData : {};\n    var dropEffect = (_args$getDropEffect = (_args$getDropEffect2 = args.getDropEffect) === null || _args$getDropEffect2 === void 0 ? void 0 : _args$getDropEffect2.call(args, feedback)) !== null && _args$getDropEffect !== void 0 ? _args$getDropEffect : defaultDropEffect;\n    var record = {\n      data: data,\n      element: args.element,\n      dropEffect: dropEffect,\n      // we are collecting _actual_ drop targets, so these are\n      // being applied _not_ due to stickiness\n      isActiveDueToStickiness: false\n    };\n    return getActualDropTargets({\n      source: source,\n      target: args.element.parentElement,\n      input: input,\n      // Using bubble ordering. Same ordering as `event.getPath()`\n      result: [].concat(_toConsumableArray(result), [record])\n    });\n  }\n  function notifyCurrent(_ref3) {\n    var eventName = _ref3.eventName,\n      payload = _ref3.payload;\n    var _iterator = _createForOfIteratorHelper(payload.location.current.dropTargets),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _entry$eventName;\n        var record = _step.value;\n        var entry = registry.get(record.element);\n        var args = _objectSpread(_objectSpread({}, payload), {}, {\n          self: record\n        });\n        entry === null || entry === void 0 || (_entry$eventName = entry[eventName]) === null || _entry$eventName === void 0 || _entry$eventName.call(entry,\n        // I cannot seem to get the types right here.\n        // TS doesn't seem to like that one event can need `nativeSetDragImage`\n        // @ts-expect-error\n        args);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  var actions = {\n    onGenerateDragPreview: notifyCurrent,\n    onDrag: notifyCurrent,\n    onDragStart: notifyCurrent,\n    onDrop: notifyCurrent,\n    onDropTargetChange: function onDropTargetChange(_ref4) {\n      var payload = _ref4.payload;\n      var isCurrent = new Set(payload.location.current.dropTargets.map(function (record) {\n        return record.element;\n      }));\n      var visited = new Set();\n      var _iterator2 = _createForOfIteratorHelper(payload.location.previous.dropTargets),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _entry$onDropTargetCh;\n          var record = _step2.value;\n          visited.add(record.element);\n          var entry = registry.get(record.element);\n          var isOver = isCurrent.has(record.element);\n          var args = _objectSpread(_objectSpread({}, payload), {}, {\n            self: record\n          });\n          entry === null || entry === void 0 || (_entry$onDropTargetCh = entry.onDropTargetChange) === null || _entry$onDropTargetCh === void 0 || _entry$onDropTargetCh.call(entry, args);\n\n          // if we cannot find the drop target in the current array, then it has been left\n          if (!isOver) {\n            var _entry$onDragLeave;\n            entry === null || entry === void 0 || (_entry$onDragLeave = entry.onDragLeave) === null || _entry$onDragLeave === void 0 || _entry$onDragLeave.call(entry, args);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var _iterator3 = _createForOfIteratorHelper(payload.location.current.dropTargets),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _entry$onDropTargetCh2, _entry$onDragEnter;\n          var _record = _step3.value;\n          // already published an update to this drop target\n          if (visited.has(_record.element)) {\n            continue;\n          }\n          // at this point we have a new drop target that is being entered into\n          var _args = _objectSpread(_objectSpread({}, payload), {}, {\n            self: _record\n          });\n          var _entry = registry.get(_record.element);\n          _entry === null || _entry === void 0 || (_entry$onDropTargetCh2 = _entry.onDropTargetChange) === null || _entry$onDropTargetCh2 === void 0 || _entry$onDropTargetCh2.call(_entry, _args);\n          _entry === null || _entry === void 0 || (_entry$onDragEnter = _entry.onDragEnter) === null || _entry$onDragEnter === void 0 || _entry$onDragEnter.call(_entry, _args);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  };\n  function dispatchEvent(args) {\n    actions[args.eventName](args);\n  }\n  function getIsOver(_ref5) {\n    var source = _ref5.source,\n      target = _ref5.target,\n      input = _ref5.input,\n      current = _ref5.current;\n    var actual = getActualDropTargets({\n      source: source,\n      target: target,\n      input: input\n    });\n\n    // stickiness is only relevant when we have less\n    // drop targets than we did before\n    if (actual.length >= current.length) {\n      return actual;\n    }\n\n    // less 'actual' drop targets than before,\n    // we need to see if 'stickiness' applies\n\n    // An old drop target will continue to be dropped on if:\n    // 1. it has the same parent\n    // 2. nothing exists in it's previous index\n\n    var lastCaptureOrdered = copyReverse(current);\n    var actualCaptureOrdered = copyReverse(actual);\n    var resultCaptureOrdered = [];\n    for (var index = 0; index < lastCaptureOrdered.length; index++) {\n      var _argsForLast$getIsSti;\n      var last = lastCaptureOrdered[index];\n      var fresh = actualCaptureOrdered[index];\n\n      // if a record is in the new index -> use that\n      // it will have the latest data + dropEffect\n      if (fresh != null) {\n        resultCaptureOrdered.push(fresh);\n        continue;\n      }\n\n      // At this point we have no drop target in the old spot\n      // Check to see if we can use a previous sticky drop target\n\n      // The \"parent\" is the one inside of `resultCaptureOrdered`\n      // (the parent might be a drop target that was sticky)\n      var parent = resultCaptureOrdered[index - 1];\n      var lastParent = lastCaptureOrdered[index - 1];\n\n      // Stickiness is based on parent relationships, so if the parent relationship has change\n      // then we can stop our search\n      if ((parent === null || parent === void 0 ? void 0 : parent.element) !== (lastParent === null || lastParent === void 0 ? void 0 : lastParent.element)) {\n        break;\n      }\n\n      // We need to check whether the old drop target can still be dropped on\n\n      var argsForLast = registry.get(last.element);\n\n      // We cannot drop on a drop target that is no longer mounted\n      if (!argsForLast) {\n        break;\n      }\n      var feedback = {\n        input: input,\n        source: source,\n        element: argsForLast.element\n      };\n\n      // We cannot drop on a drop target that no longer allows being dropped on\n      if (argsForLast.canDrop && !argsForLast.canDrop(feedback)) {\n        break;\n      }\n\n      // We cannot drop on a drop target that is no longer sticky\n      if (!((_argsForLast$getIsSti = argsForLast.getIsSticky) !== null && _argsForLast$getIsSti !== void 0 && _argsForLast$getIsSti.call(argsForLast, feedback))) {\n        break;\n      }\n\n      // Note: intentionally not recollecting `getData()` or `getDropEffect()`\n      // Previous values for `data` and `dropEffect` will be borrowed\n      // This is to prevent things like the 'closest edge' changing when\n      // no longer over a drop target.\n      // We could change our mind on this behaviour in the future\n\n      resultCaptureOrdered.push(_objectSpread(_objectSpread({}, last), {}, {\n        // making it clear to consumers this drop target is active due to stickiness\n        isActiveDueToStickiness: true\n      }));\n    }\n\n    // return bubble ordered result\n    return copyReverse(resultCaptureOrdered);\n  }\n  return {\n    dropTargetForConsumers: dropTargetForConsumers,\n    getIsOver: getIsOver,\n    dispatchEvent: dispatchEvent\n  };\n}", "export function addAttribute(element, _ref) {\n  var attribute = _ref.attribute,\n    value = _ref.value;\n  element.setAttribute(attribute, value);\n  return function () {\n    return element.removeAttribute(attribute);\n  };\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { once } from '../public-utils/once';\nexport function makeMonitor() {\n  var registry = new Set();\n  var dragging = null;\n  function tryAddToActive(monitor) {\n    if (!dragging) {\n      return;\n    }\n    // Monitor is allowed to monitor events if:\n    // 1. It has no `canMonitor` function (default is that a monitor can listen to everything)\n    // 2. `canMonitor` returns true\n    if (!monitor.canMonitor || monitor.canMonitor(dragging.canMonitorArgs)) {\n      dragging.active.add(monitor);\n    }\n  }\n  function monitorForConsumers(args) {\n    // We are giving each `args` a new reference so that you\n    // can create multiple monitors with the same `args`.\n    var entry = _objectSpread({}, args);\n    registry.add(entry);\n\n    // if there is an active drag we need to see if this new monitor is relevant\n    tryAddToActive(entry);\n    function cleanup() {\n      registry.delete(entry);\n\n      // We need to stop publishing events during a drag to this monitor!\n      if (dragging) {\n        dragging.active.delete(entry);\n      }\n    }\n\n    // Wrapping in `once` to prevent unexpected side effects if consumers call\n    // the clean up function multiple times.\n    return once(cleanup);\n  }\n  function dispatchEvent(_ref) {\n    var eventName = _ref.eventName,\n      payload = _ref.payload;\n    if (eventName === 'onGenerateDragPreview') {\n      dragging = {\n        canMonitorArgs: {\n          initial: payload.location.initial,\n          source: payload.source\n        },\n        active: new Set()\n      };\n      var _iterator = _createForOfIteratorHelper(registry),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var monitor = _step.value;\n          tryAddToActive(monitor);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    // This should never happen.\n    if (!dragging) {\n      return;\n    }\n\n    // Creating an array from the set _before_ iterating\n    // This is so that monitors added during the current event will not be called.\n    // This behaviour matches native EventTargets where an event listener\n    // cannot add another event listener during an active event to the same\n    // event target in the same event (for us we have a single global event target)\n    var active = Array.from(dragging.active);\n    for (var _i = 0, _active = active; _i < _active.length; _i++) {\n      var _monitor = _active[_i];\n      // A monitor can be removed by another monitor during an event.\n      // We need to check that the monitor is still registered before calling it\n      if (dragging.active.has(_monitor)) {\n        var _monitor$eventName;\n        // @ts-expect-error: I cannot get this type working!\n        (_monitor$eventName = _monitor[eventName]) === null || _monitor$eventName === void 0 || _monitor$eventName.call(_monitor, payload);\n      }\n    }\n    if (eventName === 'onDrop') {\n      dragging.active.clear();\n      dragging = null;\n    }\n  }\n  return {\n    dispatchEvent: dispatchEvent,\n    monitorForConsumers: monitorForConsumers\n  };\n}", "import { lifecycle } from '../ledger/lifecycle-manager';\nimport { register } from '../ledger/usage-ledger';\nimport { makeDropTarget } from './make-drop-target';\nimport { makeMonitor } from './make-monitor';\nexport function makeAdapter(_ref) {\n  var typeKey = _ref.typeKey,\n    mount = _ref.mount,\n    dispatchEventToSource = _ref.dispatchEventToSource,\n    onPostDispatch = _ref.onPostDispatch,\n    defaultDropEffect = _ref.defaultDropEffect;\n  var monitorAPI = makeMonitor();\n  var dropTargetAPI = makeDropTarget({\n    typeKey: typeKey,\n    defaultDropEffect: defaultDropEffect\n  });\n  function dispatchEvent(args) {\n    // 1. forward the event to source\n    dispatchEventToSource === null || dispatchEventToSource === void 0 || dispatchEventToSource(args);\n\n    // 2. forward the event to relevant dropTargets\n    dropTargetAPI.dispatchEvent(args);\n\n    // 3. forward event to monitors\n    monitorAPI.dispatchEvent(args);\n\n    // 4. post consumer dispatch (used for honey pot fix)\n    onPostDispatch === null || onPostDispatch === void 0 || onPostDispatch(args);\n  }\n  function start(_ref2) {\n    var event = _ref2.event,\n      dragType = _ref2.dragType;\n    lifecycle.start({\n      event: event,\n      dragType: dragType,\n      getDropTargetsOver: dropTargetAPI.getIsOver,\n      dispatchEvent: dispatchEvent\n    });\n  }\n  function registerUsage() {\n    function mountAdapter() {\n      var api = {\n        canStart: lifecycle.canStart,\n        start: start\n      };\n      return mount(api);\n    }\n    return register({\n      typeKey: typeKey,\n      mount: mountAdapter\n    });\n  }\n  return {\n    registerUsage: registerUsage,\n    dropTarget: dropTargetAPI.dropTargetForConsumers,\n    monitor: monitorAPI.monitorForConsumers\n  };\n}", "import { once } from '../public-utils/once';\n\n// Using `once` as the value won't change in a browser\n\nexport var isAndroid = once(function isAndroid() {\n  return navigator.userAgent.toLocaleLowerCase().includes('android');\n});\nexport var androidFallbackText = 'pdnd:android-fallback';", "// Why we put the media types in their own files:\n//\n// - we are not putting them all in one file as not all adapters need all types\n// - we are not putting them in the external helpers as some things just need the\n//   types and not the external functions code\nexport var textMediaType = 'text/plain';", "// Why we put the media types in their own files:\n//\n// - we are not putting them all in one file as not all adapters need all types\n// - we are not putting them in the external helpers as some things just need the\n//   types and not the external functions code\nexport var URLMediaType = 'text/uri-list';", "/**\n * This key has been pulled into a separate module\n * so that the external adapter does not need to import\n * the element adapter\n */\nexport var elementAdapterNativeDataKey = 'application/vnd.pdnd';", "import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { monitorForElements } from '../../adapter/element-adapter';\nimport { combine } from '../combine';\n\n/**\n * Set a `style` property on a `HTMLElement`\n *\n * @returns a `cleanup` function to restore the `style` property to it's original state\n */\nfunction setStyle(el, _ref) {\n  var property = _ref.property,\n    rule = _ref.rule,\n    _ref$priority = _ref.priority,\n    priority = _ref$priority === void 0 ? '' : _ref$priority;\n  var originalValue = el.style.getPropertyValue(property);\n  var originalPriority = el.style.getPropertyPriority(property);\n  el.style.setProperty(property, rule, priority);\n  return function cleanup() {\n    el.style.setProperty(property, originalValue, originalPriority);\n  };\n}\nvar isActive = false;\n\n/**\n * Start blocking dragging to iframes. Only to be called once a drag has started.\n */\nfunction tryStart() {\n  // There can technically be multiple registrations on the same element.\n  // Adding a guard to ensure that only one registration does the blocking.\n  if (isActive) {\n    return;\n  }\n  isActive = true;\n\n  // At this stage, we are also not watching for new iframe elements being added to the page\n  // (we _could_ do that as a future change)\n  var iframeCleanups = Array.from(document.querySelectorAll('iframe')).map(function (iframe) {\n    return setStyle(iframe, {\n      property: 'pointer-events',\n      rule: 'none',\n      priority: 'important'\n    });\n  });\n\n  // Not returning the cleanup function.\n  // This code will clean itself up when the interaction ends in `onDrop()`.\n  // Once a drag has started we are blocking iframes until the interaction is finished.\n  var cleanup = combine.apply(void 0, _toConsumableArray(iframeCleanups).concat([\n  // We only need this monitor for listening to the drop\n  // as our monitor in `blockDraggingToIFrames()` will only\n  // call this function when the drag has started\n  monitorForElements({\n    onDrop: function onDrop() {\n      cleanup();\n    }\n  }), function release() {\n    isActive = false;\n  }]));\n}\n\n/**\n * Block dragging of a draggable element to <iframe> elements.\n *\n * @description\n *\n * - This function sets `pointer-events:none !important` to all `<iframe>` elements for the duration of the drag.\n * - Once an `<iframe>` is disabled, it will only be re-enabled once the current drag interaction is completed (and not when the `CleanupFn` is called)\n * - This function currently does not watch for new `<iframe>` elements being adding during a drag operation.\n */\nexport function blockDraggingToIFrames(_ref2) {\n  var element = _ref2.element;\n  return monitorForElements({\n    onGenerateDragPreview: function onGenerateDragPreview(_ref3) {\n      var source = _ref3.source;\n      // only starting if we are dragging the provided element\n      if (source.element === element) {\n        tryStart();\n      }\n    }\n  });\n}", "// In order to disable the native drag preview you can\n// use `event.dataTransfer.setDragImage()` to set a small\n// invisible image as the drag preview.\n// There are alternative techniques,\n// (eg setting opacity to in onGenerateDragPreview and then 1 in onDragStart)\n// but the technique in this file worked best across browsers and platforms\n\n// Here we are preloading the image so that it is ready for the first drag.\n// Even though the image is base64 encoded, the browser queues an async task\n// to decode the image. The image needs to be decoded before it can be used\nvar tinyTransparentImage = function () {\n  // SSR safe\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  // Image generated by: https://png-pixel.com/\n  // It is a 1x1 transparent gif\n  // It is the smallest possible transparent image we could find that works on all platforms\n  // Note: using an encoded SVG would be nicer code, but it doesn't work on iOS\n  var img = new Image();\n  img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';\n  return img;\n}();\nexport function disableNativeDragPreview(_ref) {\n  var nativeSetDragImage = _ref.nativeSetDragImage;\n  if (nativeSetDragImage && tinyTransparentImage) {\n    nativeSetDragImage(tinyTransparentImage, 0, 0);\n  }\n}", "import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { bindAll } from 'bind-event-listener';\nimport { getBindingsForBrokenDrags } from '../util/detect-broken-drag';\nfunction acceptDrop(event) {\n  // if the event is already prevented the event we don't need to do anything\n  if (event.defaultPrevented) {\n    return;\n  }\n  // Using \"move\" as the drop effect as that uses the standard\n  // cursor. Doing this so the user doesn't think they are dropping\n  // on the page\n  // Note: using \"none\" will not allow a \"drop\" to occur, so we are using \"move\"\n  if (event.dataTransfer) {\n    event.dataTransfer.dropEffect = 'move';\n  }\n  // cancel the default browser behaviour\n  // doing this will tell the browser that we have handled the drop\n  event.preventDefault();\n}\nvar unbindEvents = null;\n\n/**\n * Block drag operations outside of `@atlaskit/pragmatic-drag-and-drop`\n */\nfunction start() {\n  cleanup();\n  unbindEvents = bindAll(window, [{\n    type: 'dragover',\n    listener: acceptDrop\n  }, {\n    type: 'dragenter',\n    listener: acceptDrop\n  }, {\n    type: 'drop',\n    listener: function listener(event) {\n      // our lifecycle manager already prevents events, but just being super safe\n      event.preventDefault();\n\n      // not setting dropEffect, as `drop.dropEffect` has already been published to the user\n      // (lifecycle-manager binds events in the capture phase)\n\n      // we don't need to wait for \"dragend\", and \"dragend\" might not even happen,\n      // such as when the draggable has been removed during a drag.\n      cleanup();\n    }\n  }, {\n    type: 'dragend',\n    listener: cleanup\n  }].concat(_toConsumableArray(getBindingsForBrokenDrags({\n    onDragEnd: cleanup\n  }))),\n  // being clear that these are added in the bubble phase\n  {\n    capture: false\n  });\n}\nfunction cleanup() {\n  var _unbindEvents;\n  (_unbindEvents = unbindEvents) === null || _unbindEvents === void 0 || _unbindEvents();\n  unbindEvents = null;\n}\n\n/**\n * TODO: for next major, we could look at do the following:\n *\n * ```diff\n * - preventUnhandled.start();\n * - preventUnhandled.stop();\n * + const stop = preventUnhandled();\n * ```\n */\n\nfunction stop() {\n  var _window$event;\n  /**\n   * if `stop()` is called in a `\"drop\"` event, then `event.preventDefault()` won't be called.\n   * Our `\"drop\"` listener calls `event.preventDefault()` for handled drop events\n   * (\"drop\" events caused by dropping over a drop target)\n   * `preventUnhandled()` causes every element to become a drop target (according to the browser)\n   *\n   * To opt out of the default behaviour for a `\"drop\"` event, we need to make sure\n   * that we cancel it.\n   *\n   * The `\"drop\"` event listener in core is in the `capture` phase, so people calling\n   * `preventUnhandled.stop()` in `onDrop()` will remove the `\"drop\"` event listener in this\n   * file before it has the chance to cancel the event.\n   *\n   * Being sneaky and using the `window.event` global to sniff out the current event\n   */\n  if (((_window$event = window.event) === null || _window$event === void 0 ? void 0 : _window$event.type) === 'drop') {\n    var _window$event2;\n    (_window$event2 = window.event) === null || _window$event2 === void 0 || _window$event2.preventDefault();\n  }\n  cleanup();\n}\nexport var preventUnhandled = {\n  start: start,\n  stop: stop\n};", "/**\n * Resize bounds can either be provided in `vw` or `px` units. This function will convert the value into pixels.\n *\n * It accesses the `window` object to get the viewport width, so should only be used in the browser.\n */\nexport function convertResizeBoundToPixels(resizeBound) {\n  if (resizeBound.endsWith('vw')) {\n    // Max width was provided in `vw` units, so is relative to the viewport width.\n    // e.g. 50vw = 50% of the viewport width.\n    // `parseInt` will remove the `vw` suffix.\n    var maxWidthFraction = parseInt(resizeBound) / 100;\n    return Math.floor(window.innerWidth * maxWidthFraction);\n  }\n\n  // Max width was provided in `px` units, so we can parse it directly.\n  // `parseInt` will remove the `px` suffix.\n  return Math.floor(parseInt(resizeBound));\n}", "/**\n * Returns the percentage of the current width within the resize bounds.\n * It expects the resize bounds to already have been converted into numeric values, in pixel units.\n *\n * The return value is clamped between 0 and 100. This is to prevent the screen reader text (aria-valuetext)\n * from announcing an out-of-bounds percentage when the user is resizing the viewport.\n *\n * Examples:\n * - if the current width is 200px, and the resize bounds are 100px and 300px,\n * the percentage is 50%, and the function will return the number 50.\n * - if the current value is 400, and the resize bounds are 100 and 300, the\n * \"percentage\" is 100% and the function will return the number 100.\n */\nexport function getPercentageWithinPixelBounds(_ref) {\n  var currentWidth = _ref.currentWidth,\n    resizeBounds = _ref.resizeBounds;\n  var resizeRange = resizeBounds.max - resizeBounds.min;\n  var widthAsPercentage = (currentWidth - resizeBounds.min) / resizeRange * 100;\n  if (widthAsPercentage < 0) {\n    return 0;\n  }\n  if (widthAsPercentage > 100) {\n    return 100;\n  }\n  return Math.floor(widthAsPercentage);\n}", "export var getWidthFromDragLocation = function getWidthFromDragLocation(_ref) {\n  var initialWidth = _ref.initialWidth,\n    location = _ref.location,\n    direction = _ref.direction,\n    position = _ref.position;\n  var diffX = location.current.input.clientX - location.initial.input.clientX;\n  // Resize line is positioned at the inline-end (right) of the element.\n  // If the direction is left-to-right, the width will increase when the mouse is moved to the right, and vice versa.\n  if (position === 'end') {\n    return direction === 'ltr' ? initialWidth + diffX : initialWidth - diffX;\n  }\n\n  // Resize line is positioned at the inline-start (left) of the element.\n  // If the direction is left-to-right, the width will decrease when the mouse is moved to the right, and vice versa.\n  return direction === 'ltr' ? initialWidth - diffX : initialWidth + diffX;\n};\n\n/**\n * Returns the computed width of an element in pixels.\n */\nexport var getPixelWidth = function getPixelWidth(element) {\n  var _window$getComputedSt = window.getComputedStyle(element),\n    width = _window$getComputedSt.width;\n  return parseInt(width);\n};", "/**\n * The debounce time for the PanelSplitter resize callback functions.\n *\n * - For `onResizeStart`, it will call the callback immediately, but not\n * again until the user stops resizing and this wait time has passed.\n * - For `onResizeEnd`, it will call the callback only after this time has\n * passed since the last resize event.\n */\nvar resizeCallbackDebounceTimeMs = 500;\n\n/**\n * Returns an instance of a state machine manager for keyboard resizing.\n * It handles calling the `onResizeStart` and `onResizeEnd` callbacks appropriately, as the user \"starts\" and \"finishes\" resizing\n * using the keyboard, to prevent calling them on every keydown.\n *\n * - `onResizeStart` is called immediately when the user starts resizing\n * - `onResizeEnd` is called after a wait time when the user stops resizing.\n */\nexport function createKeyboardResizeManager(_ref) {\n  var onResizeStart = _ref.onResizeStart,\n    onResizeEnd = _ref.onResizeEnd;\n  var resizingState = {\n    type: 'idle'\n  };\n\n  /**\n   * Starts a timer to reset the state to idle and call `onResizeEnd` after a wait time.\n   */\n  function startResizeEndTimer(_ref2) {\n    var initialWidth = _ref2.initialWidth,\n      finalWidth = _ref2.finalWidth;\n    var markResizeAsEndedTimeout = setTimeout(function () {\n      onResizeEnd({\n        initialWidth: initialWidth,\n        finalWidth: finalWidth\n      });\n      resizingState = {\n        type: 'idle'\n      };\n    }, resizeCallbackDebounceTimeMs);\n    resizingState = {\n      type: 'resizing',\n      initialWidth: initialWidth,\n      abort: function abort() {\n        clearTimeout(markResizeAsEndedTimeout);\n      }\n    };\n  }\n  function onResize(_ref3) {\n    var initialWidth = _ref3.initialWidth,\n      finalWidth = _ref3.finalWidth;\n    if (resizingState.type === 'idle') {\n      // If the state was idle, this counts as a resize start event.\n      onResizeStart({\n        initialWidth: initialWidth\n      });\n      startResizeEndTimer({\n        initialWidth: initialWidth,\n        finalWidth: finalWidth\n      });\n      return;\n    }\n    if (resizingState.type === 'resizing') {\n      // If the state was already resizing, clear the existing timeout and start a new one.\n      resizingState.abort();\n      startResizeEndTimer({\n        initialWidth: resizingState.initialWidth,\n        finalWidth: finalWidth\n      });\n      return;\n    }\n  }\n  return {\n    onResize: onResize\n  };\n}", "import { useCallback, useContext } from 'react';\nimport invariant from 'tiny-invariant';\nimport { SetSideNavVisibilityState } from './visibility-context';\n/**\n * __useExpandSideNav__\n *\n * Returns a function that will expand the side nav when called.\n *\n * It will switch the appropriate internal desktop or mobile side nav visibility state based on the current screen size.\n *\n * If you need a function to toggle the side nav, use `useToggleSideNav` instead.\n */\nexport function useExpandSideNav() {\n  var setSideNavState = useContext(SetSideNavVisibilityState);\n  var expandSideNav = useCallback(function () {\n    var _window$matchMedia = window.matchMedia('(min-width: 64rem)'),\n      matches = _window$matchMedia.matches;\n    if (matches) {\n      setSideNavState(function (currentState) {\n        invariant(currentState, 'Side nav state should not be null');\n\n        // Skip the re-render if it's a no-op change\n        if (currentState.desktop === 'expanded' && currentState.flyout === 'closed') {\n          return currentState;\n        }\n        return {\n          mobile: currentState.mobile,\n          desktop: 'expanded',\n          flyout: 'closed'\n        };\n      });\n    } else {\n      setSideNavState(function (currentState) {\n        invariant(currentState, 'Side nav state should not be null');\n\n        // Skip the re-render if it's a no-op change\n        if (currentState.mobile === 'expanded' && currentState.flyout === 'closed') {\n          return currentState;\n        }\n        return {\n          desktop: currentState.desktop,\n          mobile: 'expanded',\n          flyout: 'closed'\n        };\n      });\n    }\n  }, [setSideNavState]);\n  return expandSideNav;\n}", "import { useCallback, useContext } from 'react';\nimport invariant from 'tiny-invariant';\nimport { SetSideNavVisibilityState } from './visibility-context';\n/**\n * __useToggleSideNav__\n *\n * Returns a function to toggle the side nav visibility.\n *\n * It will toggle the appropriate internal desktop or mobile side nav visibility state based on the current screen size.\n *\n * If you need a function to make the side nav visible, use `useShowSideNav` instead.\n */\nexport function useToggleSideNav() {\n  var setSideNavState = useContext(SetSideNavVisibilityState);\n  var toggleSideNav = useCallback(function () {\n    var _window$matchMedia = window.matchMedia('(min-width: 64rem)'),\n      matches = _window$matchMedia.matches;\n    if (matches) {\n      setSideNavState(function (currentState) {\n        invariant(currentState, 'Side nav state should not be null');\n        return {\n          mobile: currentState.mobile,\n          desktop: currentState.desktop === 'expanded' ? 'collapsed' : 'expanded',\n          flyout: 'closed'\n        };\n      });\n    } else {\n      setSideNavState(function (currentState) {\n        invariant(currentState, 'Side nav state should not be null');\n        return {\n          desktop: currentState.desktop,\n          mobile: currentState.mobile === 'expanded' ? 'collapsed' : 'expanded',\n          flyout: 'closed'\n        };\n      });\n    }\n  }, [setSideNavState]);\n  return toggleSideNav;\n}", "/* side-nav.tsx generated by @compiled/babel-plugin v0.36.1 */\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"./side-nav.compiled.css\";\nimport * as React from 'react';\nimport { ax, ix } from \"@compiled/react/runtime\";\nimport { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { bind } from 'bind-event-listener';\nimport { flushSync } from 'react-dom';\nimport mergeRefs from '@atlaskit/ds-lib/merge-refs';\nimport { OpenLayerObserverNamespaceProvider, useOpenLayerObserver } from '@atlaskit/layering/experimental/open-layer-observer';\nimport { fg } from '@atlaskit/platform-feature-flags';\nimport { monitorForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { media } from '@atlaskit/primitives/responsive';\nimport { useSkipLinkInternal } from '../../../context/skip-links/skip-links-context';\nimport { TopNavStartElement } from '../../../context/top-nav-start/top-nav-start-context';\nimport { contentHeightWhenFixed, contentInsetBlockStart, localSlotLayers, sideNavLiveWidthVar, sideNavPanelSplitterId, sideNavVar, UNSAFE_sideNavLayoutVar } from '../constants';\nimport { DangerouslyHoistSlotSizes } from '../hoist-slot-sizes-context';\nimport { DangerouslyHoistCssVarToDocumentRoot } from '../hoist-utils';\nimport { useLayoutId } from '../id-utils';\nimport { PanelSplitterProvider } from '../panel-splitter/provider';\nimport { useResizingWidthCssVarOnRootElement } from '../use-resizing-width-css-var-on-root-element';\nimport { useSideNavRef } from './element-context';\nimport { sideNavFlyoutCloseDelayMs } from './flyout-close-delay-ms';\nimport { SideNavToggleButtonElement } from './toggle-button-context';\nimport { useExpandSideNav } from './use-expand-side-nav';\nimport { useSideNavVisibility } from './use-side-nav-visibility';\nimport { useSideNavVisibilityCallbacks } from './use-side-nav-visibility-callbacks';\nimport { useToggleSideNav } from './use-toggle-side-nav';\nimport { SetSideNavVisibilityState, SideNavVisibilityState } from './visibility-context';\nvar panelSplitterResizingVar = '--n_snvRsz';\nvar widthResizeBounds = {\n  min: '240px',\n  max: '50vw'\n};\nfunction getResizeBounds() {\n  return widthResizeBounds;\n}\nvar openLayerObserverSideNavNamespace = 'side-nav';\nvar styles = {\n  root: \"_nd5l1b6c _bfhk1bhr _16qs1cd0 _vchhusvi _4t3ieqxy _152timx3 _kqsw1if8 _1bsb1ego _1pbycs5v _14b5hc79 _qilnk0mc _4ap3vuon _scbpglyw\",\n  oldBorder: \"_t51zzgxb\",\n  newBorder: \"_191wglyw _t51zglyw _p5clzgxb\",\n  newBorderFlyoutOpen: \"_p5clglyw\",\n  flyoutOpen: \"_qiln1gzg _4ap31bhr _scbp1cd0 _139f8iot _1tpvfnf5 _sylc1a5r _oyeijq3t\",\n  flyoutAnimateClosed: \"_1e0cglyw _qiln1gzg _139f8iot _1tpvfnf5 _sylc1a5r _1uwsjq3t\",\n  flexContainer: \"_4t3i1osq _1e0c1txw _2lx21bp4 _1bah1yb4\",\n  hiddenMobileAndDesktop: \"_1e0cglyw\",\n  hiddenMobileOnly: \"_1e0cglyw _dm2518uv\",\n  hiddenDesktopOnly: \"_dm25glyw\"\n};\n/**\n * We need an additional component layer so we can wrap the side nav in a `OpenLayerObserver` and have access to the\n * context value.\n */\nfunction SideNavInternal(_ref) {\n  var children = _ref.children,\n    defaultCollapsed = _ref.defaultCollapsed,\n    _ref$defaultWidth = _ref.defaultWidth,\n    defaultWidth = _ref$defaultWidth === void 0 ? 320 : _ref$defaultWidth,\n    testId = _ref.testId,\n    _ref$label = _ref.label,\n    label = _ref$label === void 0 ? 'Sidebar' : _ref$label,\n    _ref$skipLinkLabel = _ref.skipLinkLabel,\n    skipLinkLabel = _ref$skipLinkLabel === void 0 ? label : _ref$skipLinkLabel,\n    onExpand = _ref.onExpand,\n    onCollapse = _ref.onCollapse,\n    providedId = _ref.id;\n  var id = useLayoutId({\n    providedId: providedId\n  });\n  var expandSideNav = useExpandSideNav();\n  /**\n   * Called after clicking on the side nav skip link, and ensures the side nav is expanded so that it is focusable.\n   *\n   * We need to update the DOM synchronously because `.focus()` is called synchronously after this state update.\n   */\n  var synchronouslyExpandSideNav = useCallback(function () {\n    flushSync(function () {\n      /**\n       * Calling this unconditionally and relying on it to avoid no-op renders.\n       *\n       * We _could_ call it conditionally, but we'd be duplicating the screen size checks `expandSideNav` makes.\n       */\n      expandSideNav();\n    });\n  }, [expandSideNav]);\n  useSkipLinkInternal({\n    id: id,\n    label: skipLinkLabel,\n    onBeforeNavigate: synchronouslyExpandSideNav\n  });\n  var sideNavState = useContext(SideNavVisibilityState);\n  var setSideNavState = useContext(SetSideNavVisibilityState);\n  var _useSideNavVisibility = useSideNavVisibility({\n      defaultCollapsed: defaultCollapsed\n    }),\n    isExpandedOnDesktop = _useSideNavVisibility.isExpandedOnDesktop,\n    isExpandedOnMobile = _useSideNavVisibility.isExpandedOnMobile;\n  // We are placing `defaultCollapsed` into a state container so we can have a stable reference to the initial value.\n  // This is so we can use it in an effect _that only runs once_, after the initial render on the client,\n  // to sync the side nav context (provided in `<Root>`) with the `defaultCollapsed` prop provided to `<SideNav>`.\n  var _useState = useState(defaultCollapsed),\n    _useState2 = _slicedToArray(_useState, 1),\n    initialDefaultCollapsed = _useState2[0];\n  var _useState3 = useState(defaultWidth),\n    _useState4 = _slicedToArray(_useState3, 2),\n    width = _useState4[0],\n    setWidth = _useState4[1];\n  var clampedWidth = \"clamp(\".concat(widthResizeBounds.min, \", \").concat(width, \"px, \").concat(widthResizeBounds.max, \")\");\n  var dangerouslyHoistSlotSizes = useContext(DangerouslyHoistSlotSizes);\n  var navRef = useRef(null);\n  /**\n   * Used to share the side nav element with the `Panel`,\n   * which observes the side nav to determine its maximum width.\n   */\n  var sharedRef = useSideNavRef();\n  var mergedRef = mergeRefs([navRef, sharedRef]);\n  var toggleButtonElement = useContext(SideNavToggleButtonElement);\n  var topNavStartElement = useContext(TopNavStartElement);\n  var devTimeOnlyAttributes = {};\n  var openLayerObserver = useOpenLayerObserver();\n  var flyoutStateRef = useRef({\n    type: 'not-active'\n  });\n  var isFlyoutVisible = (sideNavState === null || sideNavState === void 0 ? void 0 : sideNavState.flyout) === 'open';\n  var updateFlyoutState = useMemo(function () {\n    function tryAbortPendingClose() {\n      if (flyoutStateRef.current.type === 'waiting-for-close') {\n        flyoutStateRef.current.abort();\n      }\n    }\n    function open() {\n      tryAbortPendingClose();\n      flyoutStateRef.current = {\n        type: 'open'\n      };\n      setSideNavState(function (currentState) {\n        if ((currentState === null || currentState === void 0 ? void 0 : currentState.desktop) === 'collapsed' && (currentState === null || currentState === void 0 ? void 0 : currentState.flyout) !== 'open') {\n          return {\n            desktop: currentState.desktop,\n            mobile: currentState.mobile,\n            flyout: 'open'\n          };\n        }\n        return currentState;\n      });\n    }\n    function close() {\n      tryAbortPendingClose();\n      flyoutStateRef.current = {\n        type: 'not-active'\n      };\n      setSideNavState(function (currentState) {\n        if ((currentState === null || currentState === void 0 ? void 0 : currentState.desktop) === 'collapsed' && (currentState === null || currentState === void 0 ? void 0 : currentState.flyout) === 'open') {\n          return {\n            desktop: currentState.desktop,\n            mobile: currentState.mobile,\n            flyout: 'triggered-animate-close'\n          };\n        }\n        return currentState;\n      });\n    }\n    return function onAction(action) {\n      if (action === 'drag-from-flyout-started') {\n        open();\n        flyoutStateRef.current = {\n          type: 'is-dragging-from-flyout'\n        };\n        return;\n      }\n      if (action === 'drag-from-flyout-finished') {\n        open();\n        return;\n      }\n\n      // ignoring all actions until the drag is finished\n      if (flyoutStateRef.current.type === 'is-dragging-from-flyout') {\n        return;\n      }\n      if (action === 'open') {\n        open();\n        return;\n      }\n      if (action === 'waiting-for-close') {\n        if (flyoutStateRef.current.type === 'waiting-for-close') {\n          return;\n        }\n\n        // A timeout is used to close the flyout after a delay when the user mouses out of the flyout area, and to allow\n        // us to cancel the close if the user mouses back in.\n        var timeout = setTimeout(function () {\n          updateFlyoutState('ready-to-close');\n        }, sideNavFlyoutCloseDelayMs);\n        flyoutStateRef.current = {\n          type: 'waiting-for-close',\n          abort: function abort() {\n            clearTimeout(timeout);\n          }\n        };\n        return;\n      }\n      if (action === 'ready-to-close') {\n        // If there are no open layers, we can close the flyout.\n        if (openLayerObserver.getCount({\n          namespace: openLayerObserverSideNavNamespace\n        }) === 0) {\n          close();\n          return;\n        }\n        flyoutStateRef.current = {\n          type: 'ready-to-close'\n        };\n        return;\n      }\n      if (action === 'force-close') {\n        close();\n        return;\n      }\n    };\n  }, [openLayerObserver, setSideNavState]);\n  var toggleVisibility = useToggleSideNav();\n  useEffect(function () {\n    // Sync the visibility in context (provided in `<Root>`) with the local `defaultCollapsed` prop provided to `SideNav`\n    // after SSR hydration. This should only run once, after the initial render on the client.\n    setSideNavState({\n      desktop: initialDefaultCollapsed ? 'collapsed' : 'expanded',\n      mobile: 'collapsed',\n      flyout: 'closed'\n    });\n  }, [initialDefaultCollapsed, setSideNavState]);\n  var handleExpand = useCallback(function (_ref2) {\n    var screen = _ref2.screen;\n    onExpand === null || onExpand === void 0 || onExpand({\n      screen: screen\n    });\n\n    // When the side nav gets expanded, we close the flyout to reset it.\n    // This prevents the flyout from staying open and ensures we are respecting the user's intent to expand.\n    updateFlyoutState('force-close');\n  }, [onExpand, updateFlyoutState]);\n  var handleCollapse = useCallback(function (_ref3) {\n    var screen = _ref3.screen;\n    onCollapse === null || onCollapse === void 0 || onCollapse({\n      screen: screen\n    });\n\n    // When the side nav gets collapsed, we close the flyout to reset it.\n    // This prevents the flyout from staying open and ensures we are respecting the user's intent to collapse.\n    updateFlyoutState('force-close');\n  }, [onCollapse, updateFlyoutState]);\n  useSideNavVisibilityCallbacks({\n    onExpand: handleExpand,\n    onCollapse: handleCollapse,\n    isExpandedOnDesktop: isExpandedOnDesktop,\n    isExpandedOnMobile: isExpandedOnMobile\n  });\n  useEffect(function () {\n    var mediaQueryList = window.matchMedia('(min-width: 64rem)');\n    return bind(mediaQueryList, {\n      type: 'change',\n      listener: function listener() {\n        if (mediaQueryList.matches) {\n          // We're transitioning from tablet to desktop viewport size.\n          // We forcibly show the side nav if it was shown on mobile.\n          if (isExpandedOnMobile && !isExpandedOnDesktop) {\n            toggleVisibility();\n          }\n        }\n      }\n    });\n  }, [toggleVisibility, isExpandedOnDesktop, isExpandedOnMobile]);\n\n  /**\n   * Close the mobile side nav if there is a click outside.\n   *\n   * Binding/unbinding on changes to `isExpandedOnMobile` instead of window size changes for simplicity.\n   * If we listened to window size changes we'd need nested `bind()` calls.\n   */\n  useEffect(function () {\n    if (!isExpandedOnMobile) {\n      return;\n    }\n\n    /**\n     * The expected URL fragment used by the side nav skip link.\n     */\n    var skipLinkUrlFragment = \"#\".concat(id);\n    return bind(window, {\n      type: 'click',\n      listener: function listener(event) {\n        if (window.matchMedia('(min-width: 64rem)').matches) {\n          // Clicks on desktop should do nothing\n          return;\n        }\n        var sideNav = navRef.current;\n        if (!sideNav || !(event.target instanceof Node)) {\n          // Ignore if our element references are invalid\n          return;\n        }\n        if (sideNav.contains(event.target)) {\n          // Clicks inside the side nav should not close it\n          return;\n        }\n        if (toggleButtonElement !== null && toggleButtonElement !== void 0 && toggleButtonElement.contains(event.target)) {\n          // Clicks on the toggle button will already toggle the side nav,\n          // so we need to ignore it or we end up doing a double toggle\n          return;\n        }\n        if (event.target instanceof HTMLAnchorElement &&\n        /**\n         * Intentionally using `.getAttribute()` for simplicity to match exactly what we expect\n         * for skip links.\n         *\n         * Alternatives considered:\n         *\n         * - Using `.href` returns a full URL, which would then require extra parsing.\n         * - Using `.hash` could incorrectly capture `<a href=\"/another-page#skip-link-id>` so we'd need extra checks.\n         *\n         * This approach has an edge case of `<a href=\"/same-page#skip-link-id>` not being captured,\n         * but we are okay with that trade-off.\n         */\n        event.target.getAttribute('href') === skipLinkUrlFragment) {\n          // This was a click on a link to the side nav, so we shouldn't try to collapse the SideNav.\n          // It was most likely the skip link, although anyone can render a link with the ID.\n          // In either case keeping the SideNav expanded makes sense.\n          return;\n        }\n        toggleVisibility();\n      }\n    });\n  }, [id, isExpandedOnMobile, toggleButtonElement, toggleVisibility]);\n  useEffect(function () {\n    if (!toggleButtonElement) {\n      return;\n    }\n    return bind(toggleButtonElement, {\n      type: 'mouseenter',\n      listener: function listener() {\n        // Only flyout the side nav if the user hovered while the side nav was collapsed\n        if (isExpandedOnDesktop) {\n          return;\n        }\n\n        // Only flyout the side nav on desktop viewports\n        var _window$matchMedia = window.matchMedia('(min-width: 64rem)'),\n          matches = _window$matchMedia.matches;\n        if (matches) {\n          updateFlyoutState('open');\n        }\n      }\n    });\n  }, [updateFlyoutState, toggleButtonElement, isExpandedOnDesktop]);\n  useEffect(function () {\n    if (!toggleButtonElement) {\n      return;\n    }\n    return bind(toggleButtonElement, {\n      type: 'mouseleave',\n      listener: function listener() {\n        // If the side nav is not in flyout mode, we don't need to do anything\n        if (!isFlyoutVisible) {\n          return;\n        }\n        updateFlyoutState('waiting-for-close');\n      }\n    });\n  }, [isFlyoutVisible, toggleButtonElement, updateFlyoutState]);\n  useEffect(function () {\n    if (!navRef.current) {\n      return;\n    }\n    return bind(navRef.current, {\n      type: 'mouseenter',\n      listener: function listener() {\n        // If the side nav is not in flyout mode, we don't need to do anything\n        if (isExpandedOnDesktop || !isFlyoutVisible) {\n          return;\n        }\n\n        // The user mouses has moused back over the side nav\n        updateFlyoutState('open');\n      }\n    });\n  }, [isFlyoutVisible, updateFlyoutState, isExpandedOnDesktop]);\n  useEffect(function () {\n    if (!navRef.current) {\n      return;\n    }\n    return bind(navRef.current, {\n      type: 'mouseleave',\n      listener: function listener() {\n        // If the side nav is not in flyout mode, we don't need to do anything\n        if (!isFlyoutVisible) {\n          return;\n        }\n        updateFlyoutState('waiting-for-close');\n      }\n    });\n  }, [isFlyoutVisible, updateFlyoutState]);\n  useEffect(function () {\n    var nav = navRef.current;\n    if (!nav) {\n      return;\n    }\n    if (!isFlyoutVisible) {\n      return;\n    }\n\n    // Using a monitor rather than a drop target. Rationale:\n    // - We are not creating a drop target for the users to drop on,\n    //   we are just interested in listening to events within an element\n    // - We do not want to impact `location.{*}.dropTargets` in events\n    return monitorForElements({\n      canMonitor: function canMonitor(_ref4) {\n        var source = _ref4.source;\n        return nav.contains(source.element);\n      },\n      onGenerateDragPreview: function onGenerateDragPreview() {\n        updateFlyoutState('drag-from-flyout-started');\n      },\n      onDrop: function onDrop(_ref5) {\n        var location = _ref5.location;\n        // Always marking the drag and done\n        updateFlyoutState('drag-from-flyout-finished');\n\n        // If the user dropped outside of the flyout, we will close the flyout\n        var underUsersPointer = document.elementFromPoint(location.current.input.clientX, location.current.input.clientY);\n        if (!nav.contains(underUsersPointer)) {\n          updateFlyoutState('waiting-for-close');\n        }\n      }\n    });\n  }, [isFlyoutVisible, updateFlyoutState]);\n  useEffect(function () {\n    if (!topNavStartElement || !toggleButtonElement) {\n      return;\n    }\n    return bind(topNavStartElement, {\n      type: 'mouseover',\n      listener: function listener(event) {\n        // If the side nav is not in flyout mode, we don't need to do anything\n        if (isExpandedOnDesktop || !isFlyoutVisible) {\n          return;\n        }\n        if (event.target === topNavStartElement) {\n          // The mouse is directly over the TopNavStart element, so cancel any pending flyout closes.\n          updateFlyoutState('open');\n          return;\n        }\n        if (event.target instanceof Element && toggleButtonElement.contains(event.target)) {\n          // The mouse is over the toggle button or any of its children, so we don't want to close the flyout.\n          // We also don't need to cancel any pending closes, as we have separate event listeners for the toggle button mouse events.\n          return;\n        }\n\n        // The user has moused over a child element of the TopNavStart element that isn't the toggle button, e.g. the app switcher or nav logo,\n        // so we should close the flyout (with a delay).\n        updateFlyoutState('waiting-for-close');\n      }\n    });\n  }, [topNavStartElement, isFlyoutVisible, toggleButtonElement, isExpandedOnDesktop, updateFlyoutState]);\n  useEffect(function () {\n    if (!topNavStartElement) {\n      return;\n    }\n    return bind(topNavStartElement, {\n      type: 'mouseleave',\n      listener: function listener() {\n        // If the side nav is not in flyout mode, we don't need to do anything\n        if (!isFlyoutVisible) {\n          return;\n        }\n\n        // The mouse has left the TopNavStart element, so we should close the flyout with a delay.\n        updateFlyoutState('waiting-for-close');\n      }\n    });\n  }, [topNavStartElement, isFlyoutVisible, updateFlyoutState]);\n  useEffect(function () {\n    // Close the flyout if there are no more layers open and the user is not mousing over the\n    // flyout areas (side nav, TopNavStart element)\n\n    return openLayerObserver.onChange(function (_ref6) {\n      var count = _ref6.count;\n      if (flyoutStateRef.current.type === 'ready-to-close' && count === 0) {\n        updateFlyoutState('force-close');\n      }\n    }, {\n      namespace: openLayerObserverSideNavNamespace\n    });\n  }, [openLayerObserver, updateFlyoutState]);\n  useEffect(function () {\n    // Clear flyout close timer if being unmounted\n    return function cleanupPendingFlyoutClose() {\n      if (flyoutStateRef.current.type === 'waiting-for-close') {\n        flyoutStateRef.current.abort();\n      }\n    };\n  }, []);\n  if (process.env.NODE_ENV !== 'production') {\n    var visible = [];\n    if (isExpandedOnMobile) {\n      visible.push('small');\n    }\n    if (isExpandedOnDesktop) {\n      visible.push('large');\n    }\n    if (isFlyoutVisible) {\n      visible.push('flyout');\n    }\n    devTimeOnlyAttributes['data-visible'] = visible.length ? visible.join(',') : 'false';\n  }\n  useResizingWidthCssVarOnRootElement({\n    isEnabled: true,\n    cssVar: panelSplitterResizingVar,\n    panelId: sideNavPanelSplitterId\n  });\n  return /*#__PURE__*/React.createElement(\"nav\", _extends({\n    id: id\n  }, devTimeOnlyAttributes, {\n    \"data-layout-slot\": true,\n    \"aria-label\": label,\n    style: _defineProperty({}, sideNavVar, clampedWidth),\n    ref: mergedRef,\n    \"data-testid\": testId,\n    className: ax([styles.root, fg('platform_design_system_nav4_sidenav_border') ? styles.newBorder : styles.oldBorder, isExpandedOnDesktop && !isExpandedOnMobile && !isFlyoutVisible && styles.hiddenMobileOnly, !isExpandedOnDesktop && isExpandedOnMobile && !isFlyoutVisible && styles.hiddenDesktopOnly, !isExpandedOnDesktop && !isExpandedOnMobile && !isFlyoutVisible && styles.hiddenMobileAndDesktop, (sideNavState === null || sideNavState === void 0 ? void 0 : sideNavState.flyout) === 'open' && styles.flyoutOpen, (sideNavState === null || sideNavState === void 0 ? void 0 : sideNavState.flyout) === 'open' && fg('platform_design_system_nav4_sidenav_border') && styles.newBorderFlyoutOpen, (sideNavState === null || sideNavState === void 0 ? void 0 : sideNavState.flyout) === 'triggered-animate-close' && styles.flyoutAnimateClosed])\n  }), /*#__PURE__*/React.createElement(DangerouslyHoistCssVarToDocumentRoot, {\n    variableName: sideNavLiveWidthVar,\n    value: \"0px\",\n    mediaQuery: media.above.md,\n    responsiveValue: isExpandedOnDesktop ? \"var(\".concat(panelSplitterResizingVar, \", \").concat(clampedWidth, \")\") : 0\n  }), dangerouslyHoistSlotSizes &&\n  /*#__PURE__*/\n  // ------ START UNSAFE STYLES ------\n  // These styles are only needed for the UNSAFE legacy use case for Jira + Confluence.\n  // When they aren't needed anymore we can delete them wholesale.\n  React.createElement(DangerouslyHoistCssVarToDocumentRoot, {\n    variableName: UNSAFE_sideNavLayoutVar,\n    value: \"var(\".concat(sideNavLiveWidthVar, \")\")\n  })\n  // ------ END UNSAFE STYLES ------\n  , /*#__PURE__*/React.createElement(PanelSplitterProvider, {\n    panelId: sideNavPanelSplitterId,\n    panelRef: navRef,\n    panelWidth: width,\n    onCompleteResize: setWidth,\n    getResizeBounds: getResizeBounds,\n    resizingCssVar: panelSplitterResizingVar,\n    isEnabled: isExpandedOnDesktop && !isFlyoutVisible\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: ax([styles.flexContainer])\n  }, children)));\n}\n\n/**\n * The side navigation layout area. It will show on the left (inline start) of the screen.\n *\n * Use the side nav area components (`SideNavHeader`, `SideNavContent`, `SideNavFooter`) to position\n * content within areas of the side nav.\n *\n * You can optionally render a `PanelSplitter` as a child to make the side navigation slot resizable.\n */\nexport function SideNav(_ref8) {\n  var children = _ref8.children,\n    defaultCollapsed = _ref8.defaultCollapsed,\n    _ref8$defaultWidth = _ref8.defaultWidth,\n    defaultWidth = _ref8$defaultWidth === void 0 ? 320 : _ref8$defaultWidth,\n    testId = _ref8.testId,\n    label = _ref8.label,\n    _ref8$skipLinkLabel = _ref8.skipLinkLabel,\n    skipLinkLabel = _ref8$skipLinkLabel === void 0 ? label : _ref8$skipLinkLabel,\n    onExpand = _ref8.onExpand,\n    onCollapse = _ref8.onCollapse,\n    id = _ref8.id;\n  return /*#__PURE__*/React.createElement(OpenLayerObserverNamespaceProvider, {\n    namespace: openLayerObserverSideNavNamespace\n  }, /*#__PURE__*/React.createElement(SideNavInternal, {\n    defaultCollapsed: defaultCollapsed,\n    defaultWidth: defaultWidth,\n    testId: testId,\n    label: label,\n    skipLinkLabel: skipLinkLabel,\n    onExpand: onExpand,\n    onCollapse: onCollapse,\n    id: id\n  }, children));\n}", "import { useEffect } from 'react';\nimport { combine } from '@atlaskit/pragmatic-drag-and-drop/combine';\nimport { monitorForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { isPanelSplitterDragData } from './panel-splitter/panel-splitter';\n\n/**\n * Monitors resizing on the panel splitter with the provided `panelId`\n * and writes the resizing width to the `cssVar` on the root element (`<html>`).\n */\nexport function useResizingWidthCssVarOnRootElement(_ref) {\n  var _ref$isEnabled = _ref.isEnabled,\n    isEnabled = _ref$isEnabled === void 0 ? true : _ref$isEnabled,\n    cssVar = _ref.cssVar,\n    panelId = _ref.panelId;\n  useEffect(function () {\n    if (!isEnabled) {\n      return;\n    }\n    return combine(monitorForElements({\n      canMonitor: function canMonitor(_ref2) {\n        var source = _ref2.source;\n        return source.data.panelId === panelId;\n      },\n      onDrag: function onDrag(_ref3) {\n        var source = _ref3.source;\n        if (!isPanelSplitterDragData(source.data)) {\n          return;\n        }\n\n        /**\n         * Copies the resizing width value to the `<html>` element.\n         *\n         * Required to reflect the live width of the side navigation.\n         *\n         * Used by:\n         *   - Legacy `--leftSidebarWidth` variable\n         *   - Panel slot max-width constraint\n         *\n         * When the legacy `--leftSidebarWidth` variable is no longer needed,\n         * we could consider writing to the `Panel` element instead.\n         */\n        document.documentElement.style.setProperty(cssVar, source.data.resizingWidth);\n      },\n      onDrop: function onDrop() {\n        document.documentElement.style.removeProperty(cssVar);\n      }\n    }));\n  }, [cssVar, isEnabled, panelId]);\n  useEffect(function () {\n    if (!isEnabled) {\n      return;\n    }\n\n    /**\n     * Ensures that the resizing CSS var on the `<html>` element is cleaned up properly\n     * if the component unmounts during a drag.\n     */\n    return function cleanupGlobalResizingCssVar() {\n      document.documentElement.style.removeProperty(cssVar);\n    };\n  }, [cssVar, isEnabled]);\n}", "// Note: this value has been pulled into a separate file to better\n// support testing with Playwright. Playwright did not like importing\n// an exported value from `sidenav.tsx` which has `@jsxRuntime classic`.\n//\n// Error:\n// > importSource cannot be set when runtime is classic.\n\n/**\n * How long the flyout should remain open after the users\n * pointer has left the side nav flyout\n */\nexport var sideNavFlyoutCloseDelayMs = 400;", "import { useContext } from 'react';\nimport { SideNavVisibilityState } from './visibility-context';\n/**\n * This hook is intended to be used internally within the `@atlaskit/navigation-system` package.\n *\n * It handles using whether to use the desktop visibility state from _context_, or the _defaultCollapsed_ arg (which comes\n * from component props) - based on whether the context has been set yet. In SSR / initial render, the context would not have been\n * set yet, so we need to use the _defaultCollapsed_ argument value instead.\n */\nexport var useSideNavVisibility = function useSideNavVisibility() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$defaultCollapsed = _ref.defaultCollapsed,\n    defaultCollapsed = _ref$defaultCollapsed === void 0 ? false : _ref$defaultCollapsed;\n  var sideNavState = useContext(SideNavVisibilityState);\n\n  // If the context value is `null`, it means we are still in SSR, and should use the default values.\n  // For desktop, it comes from the `defaultCollapsed` prop, and for mobile, it is always `false`.\n  if (sideNavState === null) {\n    return {\n      isExpandedOnDesktop: !defaultCollapsed,\n      isExpandedOnMobile: false\n    };\n  }\n  return {\n    isExpandedOnDesktop: sideNavState.desktop === 'expanded',\n    isExpandedOnMobile: sideNavState.mobile === 'expanded'\n  };\n};", "import { useEffect, useRef } from 'react';\nimport usePreviousValue from '@atlaskit/ds-lib/use-previous-value';\n/**\n * Calls the `onExpand` and `onCollapse` callbacks as required.\n * This is used for both user-provided callbacks, as well as internal callbacks to respond to visibility state changes.\n */\nexport function useSideNavVisibilityCallbacks(_ref) {\n  var onExpand = _ref.onExpand,\n    onCollapse = _ref.onCollapse,\n    isExpandedOnDesktop = _ref.isExpandedOnDesktop,\n    isExpandedOnMobile = _ref.isExpandedOnMobile;\n  // Wrapping in refs so we can call them in `useEffect` without changes to them triggering the `useEffect`\n  var onExpandRef = useRef(onExpand);\n  var onCollapseRef = useRef(onCollapse);\n  useEffect(function () {\n    onExpandRef.current = onExpand;\n    onCollapseRef.current = onCollapse;\n  }, [onExpand, onCollapse]);\n  var previousIsExpandedOnDesktop = usePreviousValue(isExpandedOnDesktop);\n  useEffect(function () {\n    if (previousIsExpandedOnDesktop === undefined || previousIsExpandedOnDesktop === isExpandedOnDesktop) {\n      /**\n       * The previous value is `undefined` on initialization, so if it is `undefined` then the value hasn't changed.\n       *\n       * The previous value can be equal to the current one if the component re-renders due to something else changing.\n       *\n       * In both cases the value hasn't changed and we don't want to notify consumers.\n       */\n      return;\n    }\n    if (isExpandedOnDesktop) {\n      var _onExpandRef$current;\n      (_onExpandRef$current = onExpandRef.current) === null || _onExpandRef$current === void 0 || _onExpandRef$current.call(onExpandRef, {\n        screen: 'desktop'\n      });\n    } else {\n      var _onCollapseRef$curren;\n      (_onCollapseRef$curren = onCollapseRef.current) === null || _onCollapseRef$curren === void 0 || _onCollapseRef$curren.call(onCollapseRef, {\n        screen: 'desktop'\n      });\n    }\n  }, [previousIsExpandedOnDesktop, isExpandedOnDesktop]);\n  var previousIsExpandedOnMobile = usePreviousValue(isExpandedOnMobile);\n  useEffect(function () {\n    if (previousIsExpandedOnMobile === undefined || previousIsExpandedOnMobile === isExpandedOnMobile) {\n      /**\n       * The previous value is `undefined` on initialization, so if it is `undefined` then the value hasn't changed.\n       *\n       * The previous value can be equal to the current one if the component re-renders due to something else changing.\n       *\n       * In both cases the value hasn't changed and we don't want to notify consumers.\n       */\n      return;\n    }\n    if (isExpandedOnMobile) {\n      var _onExpandRef$current2;\n      (_onExpandRef$current2 = onExpandRef.current) === null || _onExpandRef$current2 === void 0 || _onExpandRef$current2.call(onExpandRef, {\n        screen: 'mobile'\n      });\n    } else {\n      var _onCollapseRef$curren2;\n      (_onCollapseRef$curren2 = onCollapseRef.current) === null || _onCollapseRef$curren2 === void 0 || _onCollapseRef$curren2.call(onCollapseRef, {\n        screen: 'mobile'\n      });\n    }\n  }, [previousIsExpandedOnMobile, isExpandedOnMobile]);\n}", "/* side-nav-header.tsx generated by @compiled/babel-plugin v0.36.1 */\nimport \"./side-nav-header.compiled.css\";\nimport * as React from 'react';\nimport { ax, ix } from \"@compiled/react/runtime\";\nvar styles = {\n  root: \"_18zrutpp _1q51utpp _85i51b66\"\n};\n\n/**\n * The top part of the side nav.\n */\nexport var SideNavHeader = function SideNavHeader(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: ax([styles.root])\n  }, children);\n};", "/* side-nav-content.tsx generated by @compiled/babel-plugin v0.36.1 */\nimport \"./side-nav-content.compiled.css\";\nimport * as React from 'react';\nimport { ax, ix } from \"@compiled/react/runtime\";\nimport { forwardRef } from 'react';\n/**\n * The main content of the side nav, filling up the middle section. It acts as a scroll container.\n *\n * It will grow to take up the available space in the side nav â€” this is used to push the footer to the\n * bottom of the side nav.\n */\nexport var SideNavContent = /*#__PURE__*/forwardRef(_SideNavContent);\n\n// Placing this const below the function breaks Compiled!\nvar styles = {\n  scrollContainer: \"_16jlkb7n _1o9zkb7n _i0dlf1ug _1reo1wug _18m91wug\",\n  paddingContainer: \"_ca0qutpp _u5f3utpp _n3tdutpp _19bvutpp\"\n};\nfunction _SideNavContent(_ref, ref) {\n  var children = _ref.children,\n    testId = _ref.testId;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    \"data-testid\": testId,\n    className: ax([styles.scrollContainer])\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: ax([styles.paddingContainer])\n  }, children));\n}", "/* side-nav-footer.tsx generated by @compiled/babel-plugin v0.36.1 */\nimport \"./side-nav-footer.compiled.css\";\nimport * as React from 'react';\nimport { ax, ix } from \"@compiled/react/runtime\";\nvar styles = {\n  root: \"_ca0qutpp _u5f3utpp _n3tdutpp _19bvutpp _7myae4h9 _1sw7nqa1 _qgnumuej\"\n};\n\n/**\n * The bottom part of the side nav.\n */\nexport var SideNavFooter = function SideNavFooter(_ref) {\n  var children = _ref.children,\n    xcss = _ref.xcss;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: ax([styles.root, xcss])\n  }, children);\n};", "/* toggle-button.tsx generated by @compiled/babel-plugin v0.36.1 */\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"./toggle-button.compiled.css\";\nimport { ax, ix } from \"@compiled/react/runtime\";\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { bind } from 'bind-event-listener';\nimport SidebarCollapseIcon from '@atlaskit/icon/core/sidebar-collapse';\nimport SidebarExpandIcon from '@atlaskit/icon/core/sidebar-expand';\nimport { fg } from '@atlaskit/platform-feature-flags';\nimport { IconButton } from '../../top-nav-items/themed/migration';\nimport { SideNavToggleButtonAttachRef } from './toggle-button-context';\nimport { useSideNavVisibility } from './use-side-nav-visibility';\nimport { useToggleSideNav } from './use-toggle-side-nav';\nvar toggleButtonTooltipOptions = {\n  // We're disabling pointer events on the tooltip to prevent it from blocking mouse events, so that the side nav flyout stays open\n  // when moving the mouse from the top bar to the side nav.\n  ignoreTooltipPointerEvents: true\n};\n\n// For duplicate \"mouseenter\" issue when changing icons (see below)\nvar silentIconStyles = null;\n\n/**\n * __SideNavToggleButton__\n *\n * Button for toggling the side nav. It should be used in the top bar.\n */\nexport var SideNavToggleButton = function SideNavToggleButton(_ref) {\n  var _ref$defaultCollapsed = _ref.defaultCollapsed,\n    defaultCollapsed = _ref$defaultCollapsed === void 0 ? false : _ref$defaultCollapsed,\n    expandLabel = _ref.expandLabel,\n    collapseLabel = _ref.collapseLabel,\n    testId = _ref.testId,\n    interactionName = _ref.interactionName,\n    onClick = _ref.onClick;\n  var _useSideNavVisibility = useSideNavVisibility({\n      defaultCollapsed: defaultCollapsed\n    }),\n    isSideNavExpandedOnDesktop = _useSideNavVisibility.isExpandedOnDesktop,\n    isSideNavExpandedOnMobile = _useSideNavVisibility.isExpandedOnMobile;\n  var _useState = useState(!defaultCollapsed),\n    _useState2 = _slicedToArray(_useState, 2),\n    isSideNavExpanded = _useState2[0],\n    setIsSideNavExpanded = _useState2[1];\n  var ref = useContext(SideNavToggleButtonAttachRef);\n  var elementRef = useRef(null);\n  useEffect(function () {\n    if (fg('platform_fix_component_state_update_for_suspense')) {\n      ref(elementRef.current);\n    }\n  }, [elementRef, ref]);\n  useEffect(function () {\n    var _window$matchMedia = window.matchMedia('(min-width: 64rem)'),\n      matches = _window$matchMedia.matches;\n    setIsSideNavExpanded(matches ? isSideNavExpandedOnDesktop : isSideNavExpandedOnMobile);\n  }, [isSideNavExpandedOnDesktop, isSideNavExpandedOnMobile]);\n  useEffect(function () {\n    // When screen size changes, ensure we use the correct visibility state\n    var mediaQueryList = window.matchMedia('(min-width: 64rem)');\n    return bind(mediaQueryList, {\n      type: 'change',\n      listener: function listener() {\n        setIsSideNavExpanded(mediaQueryList.matches ? isSideNavExpandedOnDesktop : isSideNavExpandedOnMobile);\n      }\n    });\n  }, [isSideNavExpandedOnDesktop, isSideNavExpandedOnMobile]);\n  var toggleVisibility = useToggleSideNav();\n  var handleClick = useCallback(function (event, analyticsEvent) {\n    onClick === null || onClick === void 0 || onClick(event, analyticsEvent, {\n      isSideNavVisible: isSideNavExpanded\n    });\n    toggleVisibility();\n  }, [onClick, toggleVisibility, isSideNavExpanded]);\n\n  /**\n   * ## Behaviour\n   * It is intentional that collapse icon will be used while the flyout is open.\n   * The icon is tied to the expanded / collapse state, and not the flyout state.\n   *\n   * ## Why a function?\n   * Unfortunately, changing the icon inside an <IconButton> when the user is over\n   * the button will cause the svg element to be replaced, which can trigger a\n   * \"mouseenter\" event. This is problematic when the user is already over the button,\n   * as it can result in a \"mouseenter\" event after the user manually entered the button.\n   *\n   * `icon` accepts a function for the `icon` prop (ie a render prop), so we don't need to\n   * memoize it, or pull it out into a new function\n   */\n  var icon = function icon(props) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: ax([\"_1e0c1bgi _lcxvglyw\"])\n    }, isSideNavExpanded ? /*#__PURE__*/React.createElement(SidebarCollapseIcon, props) : /*#__PURE__*/React.createElement(SidebarExpandIcon, props));\n  };\n  return /*#__PURE__*/React.createElement(IconButton, {\n    appearance: \"subtle\",\n    label: isSideNavExpanded ? collapseLabel : expandLabel,\n    icon: icon,\n    onClick: handleClick,\n    testId: testId,\n    isTooltipDisabled: false,\n    interactionName: interactionName,\n    ref: fg('platform_fix_component_state_update_for_suspense') ? elementRef : ref,\n    tooltip: toggleButtonTooltipOptions\n  });\n};"],
  "mappings": "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",
  "names": ["import_react", "PanelSplitterProvider", "getResizeBounds", "React", "React", "import_react", "import_bind_event_listener", "cleanup", "import_bind_event_listener", "r", "cleanup", "import_bind_event_listener", "isFirefox", "isSafari", "import_bind_event_listener", "rafSchd", "wrapperFn", "start", "event", "unbindEvents", "mount", "ownKeys", "r", "_objectSpread", "F", "e", "addToRegistry", "cleanup", "record", "_createForOfIteratorHelper", "_unsupportedIterableToArray", "F", "e", "r", "_arrayLikeToArray", "ownKeys", "_objectSpread", "cleanup", "mount", "dispatchEventToSource", "start", "registerUsage", "isAndroid", "cleanup", "cleanup", "import_bind_event_listener", "start", "getWidthFromDragLocation", "getPixelWidth", "ownKeys", "r", "_objectSpread", "PortaledPanelSplitter", "getResizeBounds", "onResizeStart", "onResizeEnd", "resizeBounds", "cleanup", "PanelSplitter", "import_react", "import_react", "React", "import_react", "import_bind_event_listener", "import_react_dom", "import_react", "import_react", "useSideNavVisibility", "import_react", "React", "styles", "SideNavHeader", "React", "import_react", "styles", "React", "styles", "SideNavFooter", "import_react", "import_bind_event_listener", "SideNavToggleButton", "icon", "React", "SidebarCollapseIcon", "SidebarExpandIcon"]
}
